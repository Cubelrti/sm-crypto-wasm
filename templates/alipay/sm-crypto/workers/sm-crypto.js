"use strict";function v(n,e,t){return e<=n&&n<=t}function H(n,e){return n.indexOf(e)!==-1}function C(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function K(n){for(var e=String(n),t=e.length,o=0,r=[];o<t;){var i=e.charCodeAt(o);if(i<55296||i>57343)r.push(i);else if(56320<=i&&i<=57343)r.push(65533);else if(55296<=i&&i<=56319)if(o===t-1)r.push(65533);else{var c=e.charCodeAt(o+1);if(56320<=c&&c<=57343){var l=i&1023,s=c&1023;r.push(65536+(l<<10)+s),o+=1}else r.push(65533)}o+=1}return r}function Q(n){for(var e="",t=0;t<n.length;++t){var o=n[t];o<=65535?e+=String.fromCharCode(o):(o-=65536,e+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return e}function X(n){return 0<=n&&n<=127}var Z=X,T=-1;function R(n){this.tokens=[].slice.call(n),this.tokens.reverse()}R.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():T},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.pop());else this.tokens.push(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.shift());else this.tokens.unshift(n)}};var E=-1;function F(n,e){if(n)throw TypeError("Decoder error");return e||65533}function I(n){return n=String(n).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(N,n)?N[n]:null}var nn=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"}],N={};nn.forEach(function(n){n.encodings.forEach(function(e){e.labels.forEach(function(t){N[t]=e})})});var W={},$={},V="utf-8";function h(n,e){if(!(this instanceof h))throw TypeError("Called as a function. Did you forget 'new'?");n=n!==void 0?String(n):V,e=C(e),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var t=I(n);if(t===null||t.name==="replacement")throw RangeError("Unknown encoding: "+n);if(!$[t.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var o=this;return o._encoding=t,e.fatal&&(o._error_mode="fatal"),e.ignoreBOM&&(o._ignoreBOM=!0),Object.defineProperty||(this.encoding=o._encoding.name.toLowerCase(),this.fatal=o._error_mode==="fatal",this.ignoreBOM=o._ignoreBOM),o}Object.defineProperty&&(Object.defineProperty(h.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(h.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(h.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}}));h.prototype.decode=function(e,t){var o;typeof e=="object"&&e instanceof ArrayBuffer?o=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):o=new Uint8Array(0),t=C(t),this._do_not_flush||(this._decoder=$[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=!!t.stream;for(var r=new R(o),i=[],c;;){var l=r.read();if(l===T||(c=this._decoder.handler(r,l),c===E))break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}if(!this._do_not_flush){do{if(c=this._decoder.handler(r,r.read()),c===E)break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}while(!r.endOfStream());this._decoder=null}function s(g){return H(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(g.length>0&&g[0]===65279?(this._BOMseen=!0,g.shift()):g.length>0&&(this._BOMseen=!0)),Q(g)}return s.call(this,i)};function O(n,e){if(!(this instanceof O))throw TypeError("Called as a function. Did you forget 'new'?");e=C(e),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=e.fatal?"fatal":"replacement";var t=this;if(e.NONSTANDARD_allowLegacyEncoding){n=n!==void 0?String(n):V;var o=I(n);if(o===null||o.name==="replacement")throw RangeError("Unknown encoding: "+n);if(!W[o.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");t._encoding=o}else t._encoding=I("utf-8");return Object.defineProperty||(this.encoding=t._encoding.name.toLowerCase()),t}Object.defineProperty&&Object.defineProperty(O.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}});O.prototype.encode=function(e,t){e=e===void 0?"":String(e),t=C(t),this._do_not_flush||(this._encoder=W[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=!!t.stream;for(var o=new R(K(e)),r=[],i;;){var c=o.read();if(c===T||(i=this._encoder.handler(o,c),i===E))break;Array.isArray(i)?r.push.apply(r,i):r.push(i)}if(!this._do_not_flush){for(;i=this._encoder.handler(o,o.read()),i!==E;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)};function en(n){var e=n.fatal,t=0,o=0,r=0,i=128,c=191;this.handler=function(l,s){if(s===T&&r!==0)return r=0,F(e);if(s===T)return E;if(r===0){if(v(s,0,127))return s;if(v(s,194,223))r=1,t=s&31;else if(v(s,224,239))s===224&&(i=160),s===237&&(c=159),r=2,t=s&15;else if(v(s,240,244))s===240&&(i=144),s===244&&(c=143),r=3,t=s&7;else return F(e);return null}if(!v(s,i,c))return t=r=o=0,i=128,c=191,l.prepend(s),F(e);if(i=128,c=191,t=t<<6|s&63,o+=1,o!==r)return null;var g=t;return t=r=o=0,g}}function tn(n){n.fatal,this.handler=function(e,t){if(t===T)return E;if(Z(t))return t;var o,r;v(t,128,2047)?(o=1,r=192):v(t,2048,65535)?(o=2,r=224):v(t,65536,1114111)&&(o=3,r=240);for(var i=[(t>>6*o)+r];o>0;){var c=t>>6*(o-1);i.push(128|c&63),o-=1}return i}}W["UTF-8"]=function(n){return new tn(n)};$["UTF-8"]=function(n){return new en(n)};var S=S||globalThis||{};S.TextEncoder=typeof O>"u"?O:S.TextEncoder;S.TextDecoder=typeof h>"u"?h:S.TextDecoder;let _;const m=new Array(128).fill(void 0);m.push(void 0,null,!0,!1);function a(n){return m[n]}const Y=typeof h<"u"?new h("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof h<"u"&&Y.decode();function D(){return new Uint8Array(_.memory.buffer)}function A(n,e){return n=n>>>0,Y.decode(D().subarray(n,n+e))}let B=m.length;function f(n){B===m.length&&m.push(m.length+1);const e=B;return B=m[e],m[e]=n,e}function on(n){n<132||(m[n]=B,B=n)}function j(n){const e=a(n);return on(n),e}function P(n){return n==null}function rn(){return new Float64Array(_.memory.buffer)}function u(){return new Int32Array(_.memory.buffer)}let d=0;const U=typeof O<"u"?new O("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},_n=typeof U.encodeInto=="function"?function(n,e){return U.encodeInto(n,e)}:function(n,e){const t=U.encode(n);return e.set(t),{read:n.length,written:t.length}};function x(n,e,t){if(t===void 0){const l=U.encode(n),s=e(l.length,1)>>>0;return D().subarray(s,s+l.length).set(l),d=l.length,s}let o=n.length,r=e(o,1)>>>0;const i=D();let c=0;for(;c<o;c++){const l=n.charCodeAt(c);if(l>127)break;i[r+c]=l}if(c!==o){c!==0&&(n=n.slice(c)),r=t(r,o,o=c+n.length*3,1)>>>0;const l=D().subarray(r+c,r+o),s=_n(n,l);c+=s.written,r=t(r,o,c,1)>>>0}return d=c,r}function L(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const r=n.description;return r==null?"Symbol":`Symbol(${r})`}if(e=="function"){const r=n.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(n)){const r=n.length;let i="[";r>0&&(i+=L(n[0]));for(let c=1;c<r;c++)i+=", "+L(n[c]);return i+="]",i}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let o;if(t.length>1)o=t[1];else return toString.call(n);if(o=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:o}function w(n,e){const t=e(n.length*1,1)>>>0;return D().set(n,t/1),d=n.length,t}function cn(n){const e=w(n,_.__wbindgen_malloc),t=d;_.init_rng_pool(e,t)}function M(n,e){return n=n>>>0,D().subarray(n/1,n/1+e)}function sn(n){const e=Date.now();try{const i=_.__wbindgen_add_to_stack_pointer(-16),c=w(n,_.__wbindgen_malloc),l=d;_.sm3(i,c,l);var t=u()[i/4+0],o=u()[i/4+1],r=M(t,o).slice();return _.__wbindgen_free(t,o*1,1),console.log("sm3 took",Date.now()-e,"ms"),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}function ln(n,e,t){const o=Date.now();try{const l=_.__wbindgen_add_to_stack_pointer(-16),s=x(n,_.__wbindgen_malloc,_.__wbindgen_realloc),g=d,b=w(e,_.__wbindgen_malloc),p=d;_.sm2_encrypt(l,s,g,b,p,f(t));var r=u()[l/4+0],i=u()[l/4+1],c=M(r,i).slice();return _.__wbindgen_free(r,i*1,1),console.log("sm2_encrypt took",Date.now()-o,"ms"),c}finally{_.__wbindgen_add_to_stack_pointer(16)}}function an(n,e,t){const o=Date.now();let r,i;try{const s=_.__wbindgen_add_to_stack_pointer(-16),g=x(n,_.__wbindgen_malloc,_.__wbindgen_realloc),b=d,p=w(e,_.__wbindgen_malloc),k=d;_.sm2_encrypt_hex(s,g,b,p,k,f(t));var c=u()[s/4+0],l=u()[s/4+1];return r=c,i=l,console.log("sm2_encrypt_hex took",Date.now()-o,"ms"),A(c,l)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(r,i,1)}}function fn(n,e,t){const o=Date.now();try{const l=_.__wbindgen_add_to_stack_pointer(-16),s=x(n,_.__wbindgen_malloc,_.__wbindgen_realloc),g=d,b=w(e,_.__wbindgen_malloc),p=d;_.sm2_decrypt(l,s,g,b,p,f(t));var r=u()[l/4+0],i=u()[l/4+1],c=M(r,i).slice();return _.__wbindgen_free(r,i*1,1),console.log("sm2_decrypt took",Date.now()-o,"ms"),c}finally{_.__wbindgen_add_to_stack_pointer(16)}}function gn(n,e){const t=Date.now();try{const c=_.__wbindgen_add_to_stack_pointer(-16),l=x(n,_.__wbindgen_malloc,_.__wbindgen_realloc),s=d,g=w(e,_.__wbindgen_malloc),b=d;_.sm2_sign(c,l,s,g,b);var o=u()[c/4+0],r=u()[c/4+1],i=M(o,r).slice();return _.__wbindgen_free(o,r*1,1),console.log("sm2_sign took",Date.now()-t,"ms"),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}function dn(n,e,t){const o=Date.now(),r=x(n,_.__wbindgen_malloc,_.__wbindgen_realloc),i=d,c=w(e,_.__wbindgen_malloc),l=d,s=w(t,_.__wbindgen_malloc),g=d,b=_.sm2_verify(r,i,c,l,s,g);return console.log("sm2_verify took",Date.now()-o,"ms"),b!==0}function un(n,e,t){const o=Date.now();let r,i;try{const s=_.__wbindgen_add_to_stack_pointer(-16),g=x(n,_.__wbindgen_malloc,_.__wbindgen_realloc),b=d,p=w(e,_.__wbindgen_malloc),k=d;_.sm2_decrypt_hex(s,g,b,p,k,f(t));var c=u()[s/4+0],l=u()[s/4+1];return r=c,i=l,console.log("sm2_decrypt_hex took",Date.now()-o,"ms"),A(c,l)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(r,i,1)}}function bn(){const n=Date.now(),e=_.sm2_generate_keypair();return console.log("sm2_generate_keypair took",Date.now()-n,"ms"),j(e)}function wn(n){const e=Date.now();let t,o;try{const b=_.__wbindgen_add_to_stack_pointer(-16),p=x(n,_.__wbindgen_malloc,_.__wbindgen_realloc),k=d;_.compress_public_key_hex(b,p,k);var r=u()[b/4+0],i=u()[b/4+1],c=u()[b/4+2],l=u()[b/4+3],s=r,g=i;if(l)throw s=0,g=0,j(c);return t=s,o=g,console.log("compress_public_key_hex took",Date.now()-e,"ms"),A(s,g)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,o,1)}}function pn(n,e){const t=Date.now();try{const c=_.__wbindgen_add_to_stack_pointer(-16),l=w(n,_.__wbindgen_malloc),s=d,g=w(e,_.__wbindgen_malloc),b=d;_.sm3_hmac(c,l,s,g,b);var o=u()[c/4+0],r=u()[c/4+1],i=M(o,r).slice();return _.__wbindgen_free(o,r*1,1),console.log("sm3_hmac took",Date.now()-t,"ms"),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}function hn(n,e,t){const o=Date.now();try{const l=_.__wbindgen_add_to_stack_pointer(-16),s=w(n,_.__wbindgen_malloc),g=d,b=w(e,_.__wbindgen_malloc),p=d,k=w(t,_.__wbindgen_malloc),J=d;_.sm4_encrypt(l,s,g,b,p,k,J);var r=u()[l/4+0],i=u()[l/4+1],c=M(r,i).slice();return _.__wbindgen_free(r,i*1,1),console.log("sm4_encrypt took",Date.now()-o,"ms"),c}finally{_.__wbindgen_add_to_stack_pointer(16)}}function yn(){_.main_js()}function y(n,e){try{return n.apply(this,e)}catch(t){_.__wbindgen_exn_store(f(t))}}async function mn(n,e){const t=await MYWebAssembly.instantiate(n,e);return t instanceof MYWebAssembly.Instance?{instance:t,module:n}:t}function z(){const n={};return n.wbg={},n.wbg.__wbindgen_is_object=function(e){console.log("calling __wbindgen_is_object");const t=a(e);return typeof t=="object"&&t!==null},n.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,t){console.log("calling __wbg_getwithrefkey_edc2c8960f0f1191");const o=a(e)[a(t)];return f(o)},n.wbg.__wbindgen_is_undefined=function(e){return console.log("calling __wbindgen_is_undefined"),a(e)===void 0},n.wbg.__wbindgen_in=function(e,t){return console.log("calling __wbindgen_in"),a(e)in a(t)},n.wbg.__wbindgen_boolean_get=function(e){console.log("calling __wbindgen_boolean_get");const t=a(e);return typeof t=="boolean"?t?1:0:2},n.wbg.__wbindgen_string_new=function(e,t){console.log("calling __wbindgen_string_new");const o=A(e,t);return f(o)},n.wbg.__wbg_set_f975102236d3c502=function(e,t,o){console.log("calling __wbg_set_f975102236d3c502"),a(e)[j(t)]=j(o)},n.wbg.__wbg_log_5bb5f88f245d7762=function(e){console.log("calling __wbg_log_5bb5f88f245d7762"),console.log(a(e))},n.wbg.__wbg_new_72fb9a18b5ae2624=function(){console.log("calling __wbg_new_72fb9a18b5ae2624");const e=new Object;return f(e)},n.wbg.__wbindgen_error_new=function(e,t){console.log("calling __wbindgen_error_new");const o=new Error(A(e,t));return f(o)},n.wbg.__wbindgen_object_drop_ref=function(e){console.log("calling __wbindgen_object_drop_ref"),j(e)},n.wbg.__wbindgen_object_clone_ref=function(e){console.log("calling __wbindgen_object_clone_ref");const t=a(e);return f(t)},n.wbg.__wbg_crypto_1d1f22824a6a080c=function(e){return console.log("calling __wbg_crypto_1d1f22824a6a080c"),f({getRandomValues:function(o){console.warn("[Warning] sm-crypto-wasm: It is dangerous to use non-cryptographically secure random number generator in production. Please populate RNG seed first from a secure source using 'smCrypto.initRNGPool()' API.");for(let r=0,i=o.length;r<i;r++)o[r]=Math.floor(Math.random()*256);return o}})},n.wbg.__wbg_process_4a72847cc503995b=function(e){console.log("calling __wbg_process_4a72847cc503995b");const t=a(e).process;return f(t)},n.wbg.__wbg_versions_f686565e586dd935=function(e){console.log("calling __wbg_versions_f686565e586dd935");const t=a(e).versions;return f(t)},n.wbg.__wbg_node_104a2ff8d6ea03a2=function(e){console.log("calling __wbg_node_104a2ff8d6ea03a2");const t=a(e).node;return f(t)},n.wbg.__wbindgen_is_string=function(e){return console.log("calling __wbindgen_is_string"),typeof a(e)=="string"},n.wbg.__wbg_require_cca90b1a94a0255b=function(){return console.log("calling __wbg_require_cca90b1a94a0255b"),y(function(){const e=module.require;return f(e)},arguments)},n.wbg.__wbindgen_is_function=function(e){return console.log("calling __wbindgen_is_function"),typeof a(e)=="function"},n.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return console.log("calling __wbg_call_b3ca7c6051f9bec1"),y(function(e,t,o){const r=a(e).call(a(t),a(o));return f(r)},arguments)},n.wbg.__wbg_msCrypto_eb05e62b530a1508=function(e){console.log("calling __wbg_msCrypto_eb05e62b530a1508");const t=a(e).msCrypto;return f(t)},n.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){console.log("calling __wbg_newwithlength_e9b4878cebadb3d3");const t=new Uint8Array(e>>>0);return f(t)},n.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return console.log("calling __wbg_self_ce0dbfc45cf2f5be"),y(function(){const e=self.self;return f(e)},arguments)},n.wbg.__wbg_window_c6fb939a7f436783=function(){return console.log("calling __wbg_window_c6fb939a7f436783"),y(function(){const e=window.window;return f(e)},arguments)},n.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return console.log("calling __wbg_globalThis_d1e6af4856ba331b"),y(function(){const e=globalThis.globalThis;return f(e)},arguments)},n.wbg.__wbg_global_207b558942527489=function(){return console.log("calling __wbg_global_207b558942527489"),y(function(){const e=S.global;return f(e)},arguments)},n.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){console.log("calling __wbg_newnoargs_e258087cd0daa0ea");const o=new Function(A(e,t));return f(o)},n.wbg.__wbg_call_27c0f87801dedf93=function(){return console.log("calling __wbg_call_27c0f87801dedf93"),y(function(e,t){const o=a(e).call(a(t));return f(o)},arguments)},n.wbg.__wbindgen_memory=function(){console.log("calling __wbindgen_memory");const e=_.memory;return f(e)},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){console.log("calling __wbg_buffer_12d079cc21e14bdb");const t=a(e).buffer;return f(t)},n.wbg.__wbg_new_63b92bc8671ed464=function(e){console.log("calling __wbg_new_63b92bc8671ed464");const t=new Uint8Array(a(e));return f(t)},n.wbg.__wbg_set_a47bac70306a19a7=function(e,t,o){console.log("calling __wbg_set_a47bac70306a19a7"),a(e).set(a(t),o>>>0)},n.wbg.__wbg_length_c20a40f15020d68a=function(e){return console.log("calling __wbg_length_c20a40f15020d68a"),a(e).length},n.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,o){console.log("calling __wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb");const r=new Uint8Array(a(e),t>>>0,o>>>0);return f(r)},n.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return console.log("calling __wbg_randomFillSync_5c9c955aa56b6049"),y(function(e,t){a(e).randomFillSync(j(t))},arguments)},n.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(e,t,o){console.log("calling __wbg_subarray_a1f73cd4b5b42fe1");const r=a(e).subarray(t>>>0,o>>>0);return f(r)},n.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return console.log("calling __wbg_getRandomValues_3aa56aa6edec874c"),y(function(e,t){a(e).getRandomValues(a(t))},arguments)},n.wbg.__wbindgen_jsval_loose_eq=function(e,t){return console.log("calling __wbindgen_jsval_loose_eq"),a(e)==a(t)},n.wbg.__wbindgen_number_get=function(e,t){console.log("calling __wbindgen_number_get");const o=a(t),r=typeof o=="number"?o:void 0;rn()[e/8+1]=P(r)?0:r,u()[e/4+0]=!P(r)},n.wbg.__wbindgen_string_get=function(e,t){console.log("calling __wbindgen_string_get");const o=a(t),r=typeof o=="string"?o:void 0;var i=P(r)?0:x(r,_.__wbindgen_malloc,_.__wbindgen_realloc),c=d;u()[e/4+1]=c,u()[e/4+0]=i},n.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(e){console.log("calling __wbg_instanceof_Uint8Array_2b3bbecd033d19f6");let t;try{t=a(e)instanceof Uint8Array}catch{t=!1}return t},n.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(e){console.log("calling __wbg_instanceof_ArrayBuffer_836825be07d4c9d2");let t;try{t=a(e)instanceof ArrayBuffer}catch{t=!1}return t},n.wbg.__wbindgen_debug_string=function(e,t){console.log("calling __wbindgen_debug_string");const o=L(a(t)),r=x(o,_.__wbindgen_malloc,_.__wbindgen_realloc),i=d;u()[e/4+1]=i,u()[e/4+0]=r},n.wbg.__wbindgen_throw=function(e,t){throw console.log("calling __wbindgen_throw"),new Error(A(e,t))},n}function G(n,e){return _=n.exports,q.__wbindgen_wasm_module=e,_.__wbindgen_start(),_}function xn(n){if(_!==void 0)return _;const e=z();n instanceof MYWebAssembly.Module||(n=new MYWebAssembly.Module(n));const t=new MYWebAssembly.Instance(n,e);return G(t,n)}async function q(n){if(_!==void 0)return _;const e=z(),{instance:t,module:o}=await mn(await n,e);return G(t,o)}const vn=Object.freeze(Object.defineProperty({__proto__:null,compress_public_key_hex:wn,default:q,initSync:xn,init_rng_pool:cn,main_js:yn,sm2_decrypt:fn,sm2_decrypt_hex:un,sm2_encrypt:ln,sm2_encrypt_hex:an,sm2_generate_keypair:bn,sm2_sign:gn,sm2_verify:dn,sm3:sn,sm3_hmac:pn,sm4_encrypt:hn},Symbol.toStringTag,{value:"Module"}));console.log("worker-index: init wasm");worker.onMessage(function(n){console.log(`received worker operation ${n.id}`);const{method:e,id:t,len:o}=n;let r=[];for(let c=0;c<o;c++)console.log(`message[${c}] is type ${Object.prototype.toString.call(n[c])} ${JSON.stringify(n[c])}`),Array.isArray(n[c])?r.push(Uint8Array.from(n[c])):r.push(n[c]);let i=vn[e](...r);i instanceof Uint8Array&&(i=Array.from(i)),worker.postMessage({id:t,result:i,type:Object.prototype.toString.call(i)})});console.log=function(...n){worker.postMessage({id:-1,event:"log",message:n.filter(e=>typeof e=="string"||typeof e=="number").join(" ")})};q("sm-crypto/crypto.wasm").then(n=>{console.log("module loaded successfully",n),worker.postMessage({id:-1,event:"ready"})}).catch(n=>{console.error("failed to load module",n)});
