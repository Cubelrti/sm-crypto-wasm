"use strict";function l(e,n,t){return n<=e&&e<=t}function U(e,n){return e.indexOf(n)!==-1}function m(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function P(e){for(var n=String(e),t=n.length,r=0,i=[];r<t;){var o=n.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===t-1)i.push(65533);else{var f=n.charCodeAt(r+1);if(56320<=f&&f<=57343){var h=o&1023,s=f&1023;i.push(65536+(h<<10)+s),r+=1}else i.push(65533)}r+=1}return i}function F(e){for(var n="",t=0;t<e.length;++t){var r=e[t];r<=65535?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return n}function L(e){return 0<=e&&e<=127}var I=L,_=-1;function T(e){this.tokens=[].slice.call(e),this.tokens.reverse()}T.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():_},prepend:function(e){if(Array.isArray(e))for(var n=e;n.length;)this.tokens.push(n.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var n=e;n.length;)this.tokens.unshift(n.shift());else this.tokens.unshift(e)}};var g=-1;function v(e,n){if(e)throw TypeError("Decoder error");return n||65533}function b(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(O,e)?O[e]:null}var W=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"}],O={};W.forEach(function(e){e.encodings.forEach(function(n){n.labels.forEach(function(t){O[t]=n})})});var M={},E={},k="utf-8";function d(e,n){if(!(this instanceof d))throw TypeError("Called as a function. Did you forget 'new'?");e=e!==void 0?String(e):k,n=m(n),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var t=b(e);if(t===null||t.name==="replacement")throw RangeError("Unknown encoding: "+e);if(!E[t.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var r=this;return r._encoding=t,n.fatal&&(r._error_mode="fatal"),n.ignoreBOM&&(r._ignoreBOM=!0),Object.defineProperty||(this.encoding=r._encoding.name.toLowerCase(),this.fatal=r._error_mode==="fatal",this.ignoreBOM=r._ignoreBOM),r}Object.defineProperty&&(Object.defineProperty(d.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(d.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(d.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}}));d.prototype.decode=function(n,t){var r;typeof n=="object"&&n instanceof ArrayBuffer?r=new Uint8Array(n):typeof n=="object"&&"buffer"in n&&n.buffer instanceof ArrayBuffer?r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength):r=new Uint8Array(0),t=m(t),this._do_not_flush||(this._decoder=E[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=!!t.stream;for(var i=new T(r),o=[],f;;){var h=i.read();if(h===_||(f=this._decoder.handler(i,h),f===g))break;f!==null&&(Array.isArray(f)?o.push.apply(o,f):o.push(f))}if(!this._do_not_flush){do{if(f=this._decoder.handler(i,i.read()),f===g)break;f!==null&&(Array.isArray(f)?o.push.apply(o,f):o.push(f))}while(!i.endOfStream());this._decoder=null}function s(c){return U(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(c.length>0&&c[0]===65279?(this._BOMseen=!0,c.shift()):c.length>0&&(this._BOMseen=!0)),F(c)}return s.call(this,o)};function x(e,n){if(!(this instanceof x))throw TypeError("Called as a function. Did you forget 'new'?");n=m(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=n.fatal?"fatal":"replacement";var t=this;if(n.NONSTANDARD_allowLegacyEncoding){e=e!==void 0?String(e):k;var r=b(e);if(r===null||r.name==="replacement")throw RangeError("Unknown encoding: "+e);if(!M[r.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");t._encoding=r}else t._encoding=b("utf-8");return Object.defineProperty||(this.encoding=t._encoding.name.toLowerCase()),t}Object.defineProperty&&Object.defineProperty(x.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}});x.prototype.encode=function(n,t){n=n===void 0?"":String(n),t=m(t),this._do_not_flush||(this._encoder=M[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=!!t.stream;for(var r=new T(P(n)),i=[],o;;){var f=r.read();if(f===_||(o=this._encoder.handler(r,f),o===g))break;Array.isArray(o)?i.push.apply(i,o):i.push(o)}if(!this._do_not_flush){for(;o=this._encoder.handler(r,r.read()),o!==g;)Array.isArray(o)?i.push.apply(i,o):i.push(o);this._encoder=null}return new Uint8Array(i)};function R(e){var n=e.fatal,t=0,r=0,i=0,o=128,f=191;this.handler=function(h,s){if(s===_&&i!==0)return i=0,v(n);if(s===_)return g;if(i===0){if(l(s,0,127))return s;if(l(s,194,223))i=1,t=s&31;else if(l(s,224,239))s===224&&(o=160),s===237&&(f=159),i=2,t=s&15;else if(l(s,240,244))s===240&&(o=144),s===244&&(f=143),i=3,t=s&7;else return v(n);return null}if(!l(s,o,f))return t=i=r=0,o=128,f=191,h.prepend(s),v(n);if(o=128,f=191,t=t<<6|s&63,r+=1,r!==i)return null;var c=t;return t=i=r=0,c}}function N(e){e.fatal,this.handler=function(n,t){if(t===_)return g;if(I(t))return t;var r,i;l(t,128,2047)?(r=1,i=192):l(t,2048,65535)?(r=2,i=224):l(t,65536,1114111)&&(r=3,i=240);for(var o=[(t>>6*r)+i];r>0;){var f=t>>6*(r-1);o.push(128|f&63),r-=1}return o}}M["UTF-8"]=function(e){return new N(e)};E["UTF-8"]=function(e){return new R(e)};global.TextEncoder=typeof x>"u"?x:global.TextEncoder;global.TextDecoder=typeof d>"u"?d:global.TextDecoder;let a;const C=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&C.decode();let p=null;function Y(){return(p===null||p.byteLength===0)&&(p=new Uint8Array(a.memory.buffer)),p}function A(e,n){return e=e>>>0,C.decode(Y().subarray(e,e+n))}const u=new Array(128).fill(void 0);u.push(void 0,null,!0,!1);let w=u.length;function z(e){w===u.length&&u.push(u.length+1);const n=w;return w=u[n],u[n]=e,n}function D(e){return u[e]}function G(e){e<132||(u[e]=w,w=e)}function H(e){const n=D(e);return G(e),n}let y=null;function B(){return(y===null||y.byteLength===0)&&(y=new Int32Array(a.memory.buffer)),y}function j(){let e,n;try{const i=a.__wbindgen_add_to_stack_pointer(-16);a.sm3(i);var t=B()[i/4+0],r=B()[i/4+1];return e=t,n=r,A(t,r)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(e,n,1)}}async function $(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof MYWebAssembly.instantiateStreaming=="function")try{return await MYWebAssembly.instantiateStreaming(e,n)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await e.arrayBuffer();return await MYWebAssembly.instantiate(t,n)}else{const t=await MYWebAssembly.instantiate(e,n);return t instanceof MYWebAssembly.Instance?{instance:t,module:e}:t}}function q(){const e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(n,t){const r=A(n,t);return z(r)},e.wbg.__wbg_log_5bb5f88f245d7762=function(n){console.log(D(n))},e.wbg.__wbindgen_object_drop_ref=function(n){H(n)},e.wbg.__wbindgen_throw=function(n,t){throw new Error(A(n,t))},e}function J(e,n){return a=e.exports,S.__wbindgen_wasm_module=n,y=null,p=null,a.__wbindgen_start(),a}async function S(e){if(a!==void 0)return a;const n=q(),{instance:t,module:r}=await $(await e,n);return J(t,r)}worker.onMessage(function(e){console.log("收到来自主线程的消息",e);const n=j();console.log("res",n),worker.postMessage({res:n})});S("/index_bg.wasm").then(e=>{const n=j();console.log("res",n),worker.postMessage(n)}).catch(console.error);
