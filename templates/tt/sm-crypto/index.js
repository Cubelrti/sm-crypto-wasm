"use strict";function x(n,e,t){return e<=n&&n<=t}function J(n,e){return n.indexOf(e)!==-1}function F(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Q(n){for(var e=String(n),t=e.length,r=0,o=[];r<t;){var i=e.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===t-1)o.push(65533);else{var _=e.charCodeAt(r+1);if(56320<=_&&_<=57343){var a=i&1023,f=_&1023;o.push(65536+(a<<10)+f),r+=1}else o.push(65533)}r+=1}return o}function X(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}function Y(n){return 0<=n&&n<=127}var Z=Y,D=-1;function V(n){this.tokens=[].slice.call(n),this.tokens.reverse()}V.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():D},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.pop());else this.tokens.push(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.shift());else this.tokens.unshift(n)}};var E=-1;function I(n,e){if(n)throw TypeError("Decoder error");return e||65533}function L(n){return n=String(n).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(W,n)?W[n]:null}var ee=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"}],W={};ee.forEach(function(n){n.encodings.forEach(function(e){e.labels.forEach(function(t){W[t]=e})})});var G={},H={},q="utf-8";function p(n,e){if(!(this instanceof p))throw TypeError("Called as a function. Did you forget 'new'?");n=n!==void 0?String(n):q,e=F(e),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var t=L(n);if(t===null||t.name==="replacement")throw RangeError("Unknown encoding: "+n);if(!H[t.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var r=this;return r._encoding=t,e.fatal&&(r._error_mode="fatal"),e.ignoreBOM&&(r._ignoreBOM=!0),Object.defineProperty||(this.encoding=r._encoding.name.toLowerCase(),this.fatal=r._error_mode==="fatal",this.ignoreBOM=r._ignoreBOM),r}Object.defineProperty&&(Object.defineProperty(p.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(p.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(p.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}}));p.prototype.decode=function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=F(t),this._do_not_flush||(this._decoder=H[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=!!t.stream;for(var o=new V(r),i=[],_;;){var a=o.read();if(a===D||(_=this._decoder.handler(o,a),_===E))break;_!==null&&(Array.isArray(_)?i.push.apply(i,_):i.push(_))}if(!this._do_not_flush){do{if(_=this._decoder.handler(o,o.read()),_===E)break;_!==null&&(Array.isArray(_)?i.push.apply(i,_):i.push(_))}while(!o.endOfStream());this._decoder=null}function f(d){return J(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(d.length>0&&d[0]===65279?(this._BOMseen=!0,d.shift()):d.length>0&&(this._BOMseen=!0)),X(d)}return f.call(this,i)};function A(n,e){if(!(this instanceof A))throw TypeError("Called as a function. Did you forget 'new'?");e=F(e),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=e.fatal?"fatal":"replacement";var t=this;if(e.NONSTANDARD_allowLegacyEncoding){n=n!==void 0?String(n):q;var r=L(n);if(r===null||r.name==="replacement")throw RangeError("Unknown encoding: "+n);if(!G[r.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");t._encoding=r}else t._encoding=L("utf-8");return Object.defineProperty||(this.encoding=t._encoding.name.toLowerCase()),t}Object.defineProperty&&Object.defineProperty(A.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}});A.prototype.encode=function(e,t){e=e===void 0?"":String(e),t=F(t),this._do_not_flush||(this._encoder=G[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=!!t.stream;for(var r=new V(Q(e)),o=[],i;;){var _=r.read();if(_===D||(i=this._encoder.handler(r,_),i===E))break;Array.isArray(i)?o.push.apply(o,i):o.push(i)}if(!this._do_not_flush){for(;i=this._encoder.handler(r,r.read()),i!==E;)Array.isArray(i)?o.push.apply(o,i):o.push(i);this._encoder=null}return new Uint8Array(o)};function ne(n){var e=n.fatal,t=0,r=0,o=0,i=128,_=191;this.handler=function(a,f){if(f===D&&o!==0)return o=0,I(e);if(f===D)return E;if(o===0){if(x(f,0,127))return f;if(x(f,194,223))o=1,t=f&31;else if(x(f,224,239))f===224&&(i=160),f===237&&(_=159),o=2,t=f&15;else if(x(f,240,244))f===240&&(i=144),f===244&&(_=143),o=3,t=f&7;else return I(e);return null}if(!x(f,i,_))return t=o=r=0,i=128,_=191,a.prepend(f),I(e);if(i=128,_=191,t=t<<6|f&63,r+=1,r!==o)return null;var d=t;return t=o=r=0,d}}function te(n){n.fatal,this.handler=function(e,t){if(t===D)return E;if(Z(t))return t;var r,o;x(t,128,2047)?(r=1,o=192):x(t,2048,65535)?(r=2,o=224):x(t,65536,1114111)&&(r=3,o=240);for(var i=[(t>>6*r)+o];r>0;){var _=t>>6*(r-1);i.push(128|_&63),r-=1}return i}}G["UTF-8"]=function(n){return new te(n)};H["UTF-8"]=function(n){return new ne(n)};var S=S||globalThis||{};S.TextEncoder=typeof A>"u"?A:S.TextEncoder;S.TextDecoder=typeof p>"u"?p:S.TextDecoder;let c;const v=new Array(128).fill(void 0);v.push(void 0,null,!0,!1);function s(n){return v[n]}let g=0;function j(){return new Uint8Array(c.memory.buffer)}const U=typeof A<"u"?new A("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},re=typeof U.encodeInto=="function"?function(n,e){return U.encodeInto(n,e)}:function(n,e){const t=U.encode(n);return e.set(t),{read:n.length,written:t.length}};function k(n,e,t){if(t===void 0){const a=U.encode(n),f=e(a.length,1)>>>0;return j().subarray(f,f+a.length).set(a),g=a.length,f}let r=n.length,o=e(r,1)>>>0;const i=j();let _=0;for(;_<r;_++){const a=n.charCodeAt(_);if(a>127)break;i[o+_]=a}if(_!==r){_!==0&&(n=n.slice(_)),o=t(o,r,r=_+n.length*3,1)>>>0;const a=j().subarray(o+_,o+r),f=re(n,a);_+=f.written,o=t(o,r,_,1)>>>0}return g=_,o}function N(n){return n==null}function l(){return new Int32Array(c.memory.buffer)}const z=typeof p<"u"?new p("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof p<"u"&&z.decode();function O(n,e){return n=n>>>0,z.decode(j().subarray(n,n+e))}let M=v.length;function u(n){M===v.length&&v.push(v.length+1);const e=M;return M=v[e],v[e]=n,e}function oe(n){n<132||(v[n]=M,M=n)}function T(n){const e=s(n);return oe(n),e}function ie(){return new Float64Array(c.memory.buffer)}function $(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const o=n.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=n.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(n)){const o=n.length;let i="[";o>0&&(i+=$(n[0]));for(let _=1;_<o;_++)i+=", "+$(n[_]);return i+="]",i}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(t.length>1)r=t[1];else return toString.call(n);if(r=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:r}function h(n,e){const t=e(n.length*1,1)>>>0;return j().set(n,t/1),g=n.length,t}function ce(n){const e=h(n,c.__wbindgen_malloc),t=g;c.init_rng_pool(e,t)}function B(n,e){return n=n>>>0,j().subarray(n/1,n/1+e)}function _e(n){const e=Date.now();try{const i=c.__wbindgen_add_to_stack_pointer(-16),_=h(n,c.__wbindgen_malloc),a=g;c.sm3(i,_,a);var t=l()[i/4+0],r=l()[i/4+1],o=B(t,r).slice();return c.__wbindgen_free(t,r*1,1),console.log("sm3 took",Date.now()-e,"ms"),o}finally{c.__wbindgen_add_to_stack_pointer(16)}}function se(n,e,t){const r=Date.now();try{const a=c.__wbindgen_add_to_stack_pointer(-16),f=k(n,c.__wbindgen_malloc,c.__wbindgen_realloc),d=g,w=h(e,c.__wbindgen_malloc),b=g;c.sm2_encrypt(a,f,d,w,b,u(t));var o=l()[a/4+0],i=l()[a/4+1],_=B(o,i).slice();return c.__wbindgen_free(o,i*1,1),console.log("sm2_encrypt took",Date.now()-r,"ms"),_}finally{c.__wbindgen_add_to_stack_pointer(16)}}function fe(n,e,t){const r=Date.now();try{const a=c.__wbindgen_add_to_stack_pointer(-16),f=k(n,c.__wbindgen_malloc,c.__wbindgen_realloc),d=g,w=h(e,c.__wbindgen_malloc),b=g;c.sm2_decrypt(a,f,d,w,b,u(t));var o=l()[a/4+0],i=l()[a/4+1],_=B(o,i).slice();return c.__wbindgen_free(o,i*1,1),console.log("sm2_decrypt took",Date.now()-r,"ms"),_}finally{c.__wbindgen_add_to_stack_pointer(16)}}function ae(n,e,t){const r=Date.now();let o,i;try{const f=c.__wbindgen_add_to_stack_pointer(-16),d=k(n,c.__wbindgen_malloc,c.__wbindgen_realloc),w=g,b=h(e,c.__wbindgen_malloc),P=g;c.sm2_sign(f,d,w,b,P,u(t));var _=l()[f/4+0],a=l()[f/4+1];return o=_,i=a,console.log("sm2_sign took",Date.now()-r,"ms"),O(_,a)}finally{c.__wbindgen_add_to_stack_pointer(16),c.__wbindgen_free(o,i,1)}}function ue(n,e,t,r){const o=Date.now(),i=k(n,c.__wbindgen_malloc,c.__wbindgen_realloc),_=g,a=h(e,c.__wbindgen_malloc),f=g,d=k(t,c.__wbindgen_malloc,c.__wbindgen_realloc),w=g,b=c.sm2_verify(i,_,a,f,d,w,u(r));return console.log("sm2_verify took",Date.now()-o,"ms"),b!==0}function de(){const n=Date.now(),e=c.sm2_generate_keypair();return console.log("sm2_generate_keypair took",Date.now()-n,"ms"),T(e)}function le(n){const e=Date.now();let t,r;try{const w=c.__wbindgen_add_to_stack_pointer(-16),b=k(n,c.__wbindgen_malloc,c.__wbindgen_realloc),P=g;c.compress_public_key_hex(w,b,P);var o=l()[w/4+0],i=l()[w/4+1],_=l()[w/4+2],a=l()[w/4+3],f=o,d=i;if(a)throw f=0,d=0,T(_);return t=f,r=d,console.log("compress_public_key_hex took",Date.now()-e,"ms"),O(f,d)}finally{c.__wbindgen_add_to_stack_pointer(16),c.__wbindgen_free(t,r,1)}}function ge(n,e){const t=Date.now();try{const _=c.__wbindgen_add_to_stack_pointer(-16),a=h(n,c.__wbindgen_malloc),f=g,d=h(e,c.__wbindgen_malloc),w=g;c.sm3_hmac(_,a,f,d,w);var r=l()[_/4+0],o=l()[_/4+1],i=B(r,o).slice();return c.__wbindgen_free(r,o*1,1),console.log("sm3_hmac took",Date.now()-t,"ms"),i}finally{c.__wbindgen_add_to_stack_pointer(16)}}function we(n,e,t){const r=Date.now();try{const a=c.__wbindgen_add_to_stack_pointer(-16),f=h(n,c.__wbindgen_malloc),d=g,w=h(e,c.__wbindgen_malloc),b=g;c.sm4_encrypt(a,f,d,w,b,u(t));var o=l()[a/4+0],i=l()[a/4+1],_=B(o,i).slice();return c.__wbindgen_free(o,i*1,1),console.log("sm4_encrypt took",Date.now()-r,"ms"),_}finally{c.__wbindgen_add_to_stack_pointer(16)}}function be(n,e,t){const r=Date.now();try{const a=c.__wbindgen_add_to_stack_pointer(-16),f=h(n,c.__wbindgen_malloc),d=g,w=h(e,c.__wbindgen_malloc),b=g;c.sm4_decrypt(a,f,d,w,b,u(t));var o=l()[a/4+0],i=l()[a/4+1],_=B(o,i).slice();return c.__wbindgen_free(o,i*1,1),console.log("sm4_decrypt took",Date.now()-r,"ms"),_}finally{c.__wbindgen_add_to_stack_pointer(16)}}function m(n,e){try{return n.apply(this,e)}catch(t){c.__wbindgen_exn_store(u(t))}}async function ye(n,e){const t=await TTWebAssembly.instantiate(n,e);return t instanceof TTWebAssembly.Instance?{instance:t,module:n}:t}function he(){const n={};return n.wbg={},n.wbg.__wbindgen_is_undefined=function(e){return s(e)===void 0},n.wbg.__wbindgen_in=function(e,t){return s(e)in s(t)},n.wbg.__wbindgen_is_object=function(e){const t=s(e);return typeof t=="object"&&t!==null},n.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,t){const r=s(e)[s(t)];return u(r)},n.wbg.__wbindgen_string_get=function(e,t){const r=s(t),o=typeof r=="string"?r:void 0;var i=N(o)?0:k(o,c.__wbindgen_malloc,c.__wbindgen_realloc),_=g;l()[e/4+1]=_,l()[e/4+0]=i},n.wbg.__wbindgen_boolean_get=function(e){const t=s(e);return typeof t=="boolean"?t?1:0:2},n.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(e){return Array.isArray(s(e))},n.wbg.__wbg_length_cd7af8117672b8b8=function(e){return s(e).length},n.wbg.__wbg_get_bd8e338fbd5f5cc8=function(e,t){const r=s(e)[t>>>0];return u(r)},n.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return u(Symbol.iterator)},n.wbg.__wbg_get_e3c254076557e348=function(){return m(function(e,t){const r=Reflect.get(s(e),s(t));return u(r)},arguments)},n.wbg.__wbg_next_40fc327bfc8770e6=function(e){const t=s(e).next;return u(t)},n.wbg.__wbg_next_196c84450b364254=function(){return m(function(e){const t=s(e).next();return u(t)},arguments)},n.wbg.__wbg_done_298b57d23c0fc80c=function(e){return s(e).done},n.wbg.__wbg_value_d93c65011f51a456=function(e){const t=s(e).value;return u(t)},n.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(e){return Number.isSafeInteger(s(e))},n.wbg.__wbindgen_as_number=function(e){return+s(e)},n.wbg.__wbindgen_string_new=function(e,t){const r=O(e,t);return u(r)},n.wbg.__wbg_set_f975102236d3c502=function(e,t,r){s(e)[T(t)]=T(r)},n.wbg.__wbg_log_5bb5f88f245d7762=function(e){console.log(s(e))},n.wbg.__wbg_new_72fb9a18b5ae2624=function(){const e=new Object;return u(e)},n.wbg.__wbindgen_error_new=function(e,t){const r=new Error(O(e,t));return u(r)},n.wbg.__wbindgen_object_clone_ref=function(e){const t=s(e);return u(t)},n.wbg.__wbg_crypto_1d1f22824a6a080c=function(e){return u({getRandomValues:function(r){console.warn("[Warning] sm-crypto-wasm: It is dangerous to use non-cryptographically secure random number generator in production. Please populate RNG seed first from a secure source using 'smCrypto.initRNGPool()' API.");for(let o=0,i=r.length;o<i;o++)r[o]=Math.floor(Math.random()*256);return r}})},n.wbg.__wbg_process_4a72847cc503995b=function(e){const t=s(e).process;return u(t)},n.wbg.__wbg_versions_f686565e586dd935=function(e){const t=s(e).versions;return u(t)},n.wbg.__wbg_node_104a2ff8d6ea03a2=function(e){const t=s(e).node;return u(t)},n.wbg.__wbindgen_is_string=function(e){return typeof s(e)=="string"},n.wbg.__wbg_require_cca90b1a94a0255b=function(){return m(function(){const e=module.require;return u(e)},arguments)},n.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return m(function(e,t,r){const o=s(e).call(s(t),s(r));return u(o)},arguments)},n.wbg.__wbg_msCrypto_eb05e62b530a1508=function(e){const t=s(e).msCrypto;return u(t)},n.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){const t=new Uint8Array(e>>>0);return u(t)},n.wbg.__wbindgen_is_function=function(e){return typeof s(e)=="function"},n.wbg.__wbg_call_27c0f87801dedf93=function(){return m(function(e,t){const r=s(e).call(s(t));return u(r)},arguments)},n.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return m(function(){const e=self.self;return u(e)},arguments)},n.wbg.__wbg_window_c6fb939a7f436783=function(){return m(function(){const e=window.window;return u(e)},arguments)},n.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return m(function(){const e=globalThis.globalThis;return u(e)},arguments)},n.wbg.__wbg_global_207b558942527489=function(){return m(function(){const e=S.global;return u(e)},arguments)},n.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){const r=new Function(O(e,t));return u(r)},n.wbg.__wbindgen_memory=function(){const e=c.memory;return u(e)},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){const t=s(e).buffer;return u(t)},n.wbg.__wbg_new_63b92bc8671ed464=function(e){const t=new Uint8Array(s(e));return u(t)},n.wbg.__wbg_set_a47bac70306a19a7=function(e,t,r){s(e).set(s(t),r>>>0)},n.wbg.__wbg_length_c20a40f15020d68a=function(e){return s(e).length},n.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,r){const o=new Uint8Array(s(e),t>>>0,r>>>0);return u(o)},n.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return m(function(e,t){s(e).randomFillSync(T(t))},arguments)},n.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(e,t,r){const o=s(e).subarray(t>>>0,r>>>0);return u(o)},n.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return m(function(e,t){s(e).getRandomValues(s(t))},arguments)},n.wbg.__wbindgen_object_drop_ref=function(e){T(e)},n.wbg.__wbindgen_jsval_loose_eq=function(e,t){return s(e)==s(t)},n.wbg.__wbindgen_number_get=function(e,t){const r=s(t),o=typeof r=="number"?r:void 0;ie()[e/8+1]=N(o)?0:o,l()[e/4+0]=!N(o)},n.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(e){let t;try{t=s(e)instanceof Uint8Array}catch{t=!1}return t},n.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(e){let t;try{t=s(e)instanceof ArrayBuffer}catch{t=!1}return t},n.wbg.__wbindgen_debug_string=function(e,t){const r=$(s(t)),o=k(r,c.__wbindgen_malloc,c.__wbindgen_realloc),i=g;l()[e/4+1]=i,l()[e/4+0]=o},n.wbg.__wbindgen_throw=function(e,t){throw new Error(O(e,t))},n}function me(n,e){return c=n.exports,K.__wbindgen_wasm_module=e,c.__wbindgen_start(),c}async function K(n){if(c!==void 0)return c;const e=he(),{instance:t,module:r}=await ye(await n,e);return me(t,r)}function y(n){const e=[];for(let t=0;t<n.length;t+=2)e.push(parseInt(n.substr(t,2),16));return new Uint8Array(e)}function C(n){return Array.prototype.map.call(n,e=>("00"+e.toString(16)).slice(-2)).join("")}let R=null;async function pe(){if(!R)try{const n=await K("sm-crypto/crypto.wasm");console.log("init sm-crypto-wasm direct success",n),R=n}catch(n){console.log("init sm-crypto-wasm direct failed",n),R=null}}const ve={initSMCrypto:pe,sm2:{generateKeyPairHex:de,compressPublicKeyHex:le,encrypt(n,e,t){t=Object.assign({cipherMode:1,asn1:!1,output:"array"},t),n=typeof n=="string"?y(n):n;const r=se(e,n,{asn1:t.asn1,c1c2c3:t.cipherMode===0});return t.output==="string"?C(r):r},decrypt(n,e,t){t=Object.assign({cipherMode:1,asn1:!1,output:"array"},t),n=typeof n=="string"?y(n):n;const r=fe(e,n,{asn1:t.asn1,c1c2c3:t.cipherMode===0});return t.output==="string"?C(r):r},doSignature(n,e,t){return n=typeof n=="string"?y(n):n,t=Object.assign({hash:!0,der:!0},t),ae(e,n,t)},doVerifySignature(n,e,t,r){return n=typeof n=="string"?y(n):n,r=Object.assign({hash:!0,der:!0},r),ue(e,n,t,r)},initRNGPool:ce},sm3(n,e){n=typeof n=="string"?y(n):n;let t=e!=null&&e.key?typeof(e==null?void 0:e.key)=="string"?y(e.key):e.key:void 0;return t?ge(t,n):_e(n)},sm4:{encrypt(n,e,t){t=Object.assign({mode:"cbc",padding:"pkcs7",output:"array"},t),t.iv=t.iv?typeof t.iv=="string"?y(t.iv):t.iv:void 0,t.aad=t.aad?typeof t.aad=="string"?y(t.aad):t.aad:void 0,e=typeof e=="string"?y(e):e;const r=we(n,e,{mode:t.mode,padding:t.padding,iv:t.iv,aad:t.aad});return t.output==="string"?C(r):r},decrypt(n,e,t){t=Object.assign({mode:"cbc",padding:"pkcs7",output:"array"},t),t.iv=t.iv?typeof t.iv=="string"?y(t.iv):t.iv:void 0,t.aad=t.aad?typeof t.aad=="string"?y(t.aad):t.aad:void 0,e=typeof e=="string"?y(e):e;const r=be(n,e,{mode:t.mode,padding:t.padding,iv:t.iv,aad:t.aad});return t.output==="string"?C(r):r}}};module.exports=ve;
