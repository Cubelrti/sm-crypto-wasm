"use strict";const a=require("./chunks/index-B7MdnqRC.js");let m=null,s=null;async function f(){try{const n=await a.__wbg_init("/sm-crypto/crypto.wasm");console.log("init sm-crypto-wasm direct success",n),s=n}catch(n){console.log("init sm-crypto-wasm direct failed",n)}}let p=0;function c(n,...e){return new Promise((o,k)=>{const i=p++,r=Date.now();if(s){o(a.mod[n].call(s,...e));const t=Date.now();console.log(`[sm-crypto] perf: ${n} took ${t-r}ms`)}__IS_WEAPP__&&(e=e.map(t=>t instanceof Uint8Array?t.buffer:t)),m.postMessage({id:i,method:n,args:e}),m.onMessage(({id:t,result:l})=>{if(t===i){const u=Date.now();console.log(`[sm-crypto] perf: ${n} took ${u-r}ms`),o(l)}})})}function w(){return c("sm3")}function y(){return c("sm2_encrypt")}function _(n,e,o){return c("sm4_encrypt",n,e,o)}const d={initSMCrypto:f,sm2:y,sm3:w,sm4:_};module.exports=d;
