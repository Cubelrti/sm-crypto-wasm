"use strict";function j(n,e,t){return e<=n&&n<=t}function en(n,e){return n.indexOf(e)!==-1}function V(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function tn(n){for(var e=String(n),t=e.length,r=0,c=[];r<t;){var _=e.charCodeAt(r);if(_<55296||_>57343)c.push(_);else if(56320<=_&&_<=57343)c.push(65533);else if(55296<=_&&_<=56319)if(r===t-1)c.push(65533);else{var i=e.charCodeAt(r+1);if(56320<=i&&i<=57343){var a=_&1023,s=i&1023;c.push(65536+(a<<10)+s),r+=1}else c.push(65533)}r+=1}return c}function rn(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}function on(n){return 0<=n&&n<=127}var cn=on,I=-1;function X(n){this.tokens=[].slice.call(n),this.tokens.reverse()}X.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():I},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.pop());else this.tokens.push(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.shift());else this.tokens.unshift(n)}};var N=-1;function G(n,e){if(n)throw TypeError("Decoder error");return e||65533}function H(n){return n=String(n).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(z,n)?z[n]:null}var _n=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"}],z={};_n.forEach(function(n){n.encodings.forEach(function(e){e.labels.forEach(function(t){z[t]=e})})});var K={},Q={},Y="utf-8";function D(n,e){if(!(this instanceof D))throw TypeError("Called as a function. Did you forget 'new'?");n=n!==void 0?String(n):Y,e=V(e),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var t=H(n);if(t===null||t.name==="replacement")throw RangeError("Unknown encoding: "+n);if(!Q[t.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var r=this;return r._encoding=t,e.fatal&&(r._error_mode="fatal"),e.ignoreBOM&&(r._ignoreBOM=!0),Object.defineProperty||(this.encoding=r._encoding.name.toLowerCase(),this.fatal=r._error_mode==="fatal",this.ignoreBOM=r._ignoreBOM),r}Object.defineProperty&&(Object.defineProperty(D.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(D.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(D.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}}));D.prototype.decode=function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=V(t),this._do_not_flush||(this._decoder=Q[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=!!t.stream;for(var c=new X(r),_=[],i;;){var a=c.read();if(a===I||(i=this._decoder.handler(c,a),i===N))break;i!==null&&(Array.isArray(i)?_.push.apply(_,i):_.push(i))}if(!this._do_not_flush){do{if(i=this._decoder.handler(c,c.read()),i===N)break;i!==null&&(Array.isArray(i)?_.push.apply(_,i):_.push(i))}while(!c.endOfStream());this._decoder=null}function s(l){return en(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(l.length>0&&l[0]===65279?(this._BOMseen=!0,l.shift()):l.length>0&&(this._BOMseen=!0)),rn(l)}return s.call(this,_)};function U(n,e){if(!(this instanceof U))throw TypeError("Called as a function. Did you forget 'new'?");e=V(e),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=e.fatal?"fatal":"replacement";var t=this;if(e.NONSTANDARD_allowLegacyEncoding){n=n!==void 0?String(n):Y;var r=H(n);if(r===null||r.name==="replacement")throw RangeError("Unknown encoding: "+n);if(!K[r.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");t._encoding=r}else t._encoding=H("utf-8");return Object.defineProperty||(this.encoding=t._encoding.name.toLowerCase()),t}Object.defineProperty&&Object.defineProperty(U.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}});U.prototype.encode=function(e,t){e=e===void 0?"":String(e),t=V(t),this._do_not_flush||(this._encoder=K[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=!!t.stream;for(var r=new X(tn(e)),c=[],_;;){var i=r.read();if(i===I||(_=this._encoder.handler(r,i),_===N))break;Array.isArray(_)?c.push.apply(c,_):c.push(_)}if(!this._do_not_flush){for(;_=this._encoder.handler(r,r.read()),_!==N;)Array.isArray(_)?c.push.apply(c,_):c.push(_);this._encoder=null}return new Uint8Array(c)};function sn(n){var e=n.fatal,t=0,r=0,c=0,_=128,i=191;this.handler=function(a,s){if(s===I&&c!==0)return c=0,G(e);if(s===I)return N;if(c===0){if(j(s,0,127))return s;if(j(s,194,223))c=1,t=s&31;else if(j(s,224,239))s===224&&(_=160),s===237&&(i=159),c=2,t=s&15;else if(j(s,240,244))s===240&&(_=144),s===244&&(i=143),c=3,t=s&7;else return G(e);return null}if(!j(s,_,i))return t=c=r=0,_=128,i=191,a.prepend(s),G(e);if(_=128,i=191,t=t<<6|s&63,r+=1,r!==c)return null;var l=t;return t=c=r=0,l}}function an(n){n.fatal,this.handler=function(e,t){if(t===I)return N;if(cn(t))return t;var r,c;j(t,128,2047)?(r=1,c=192):j(t,2048,65535)?(r=2,c=224):j(t,65536,1114111)&&(r=3,c=240);for(var _=[(t>>6*r)+c];r>0;){var i=t>>6*(r-1);_.push(128|i&63),r-=1}return _}}K["UTF-8"]=function(n){return new an(n)};Q["UTF-8"]=function(n){return new sn(n)};var R=R||globalThis||{};R.TextEncoder=typeof U>"u"?U:R.TextEncoder;R.TextDecoder=typeof D>"u"?D:R.TextDecoder;let o;const Z=typeof D<"u"?new D("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof D<"u"&&Z.decode();function P(){return new Uint8Array(o.memory.buffer)}function k(n,e){return n=n>>>0,Z.decode(P().subarray(n,n+e))}const O=new Array(128).fill(void 0);O.push(void 0,null,!0,!1);let F=O.length;function d(n){F===O.length&&O.push(O.length+1);const e=F;if(F=O[e],typeof F!="number")throw new Error("corrupt heap");return O[e]=n,e}function f(n){return O[n]}function h(n){if(typeof n!="boolean")throw new Error(`expected a boolean argument, found ${typeof n}`)}function $(n){if(typeof n!="number")throw new Error(`expected a number argument, found ${typeof n}`)}let u=0;const W=typeof U<"u"?new U("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},fn=typeof W.encodeInto=="function"?function(n,e){return W.encodeInto(n,e)}:function(n,e){const t=W.encode(n);return e.set(t),{read:n.length,written:t.length}};function x(n,e,t){if(typeof n!="string")throw new Error(`expected a string argument, found ${typeof n}`);if(t===void 0){const a=W.encode(n),s=e(a.length,1)>>>0;return P().subarray(s,s+a.length).set(a),u=a.length,s}let r=n.length,c=e(r,1)>>>0;const _=P();let i=0;for(;i<r;i++){const a=n.charCodeAt(i);if(a>127)break;_[c+i]=a}if(i!==r){i!==0&&(n=n.slice(i)),c=t(c,r,r=i+n.length*3,1)>>>0;const a=P().subarray(c+i,c+r),s=fn(n,a);if(s.read!==n.length)throw new Error("failed to pass whole string");i+=s.written,c=t(c,r,i,1)>>>0}return u=i,c}function L(n){return n==null}function g(){return new Int32Array(o.memory.buffer)}function un(){return new Float64Array(o.memory.buffer)}function J(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const c=n.description;return c==null?"Symbol":`Symbol(${c})`}if(e=="function"){const c=n.name;return typeof c=="string"&&c.length>0?`Function(${c})`:"Function"}if(Array.isArray(n)){const c=n.length;let _="[";c>0&&(_+=J(n[0]));for(let i=1;i<c;i++)_+=", "+J(n[i]);return _+="]",_}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(t.length>1)r=t[1];else return toString.call(n);if(r=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:r}function dn(n){n<132||(O[n]=F,F=n)}function C(n){const e=f(n);return dn(n),e}function b(n,e){const t=e(n.length*1,1)>>>0;return P().set(n,t/1),u=n.length,t}function A(n,e){return n=n>>>0,P().subarray(n/1,n/1+e)}function ln(n,e,t,r){const c=Date.now();try{const s=o.__wbindgen_add_to_stack_pointer(-16),l=b(n,o.__wbindgen_malloc),w=u,p=b(e,o.__wbindgen_malloc),y=u,S=b(t,o.__wbindgen_malloc),T=u,B=b(r,o.__wbindgen_malloc),M=u;o.xsm4_encrypt(s,l,w,p,y,S,T,B,M);var _=g()[s/4+0],i=g()[s/4+1],a=A(_,i).slice();return o.__wbindgen_free(_,i*1,1),console.log("xsm4_encrypt took",Date.now()-c,"ms"),a}finally{o.__wbindgen_add_to_stack_pointer(16)}}function gn(n,e,t,r){const c=Date.now();try{const s=o.__wbindgen_add_to_stack_pointer(-16),l=b(n,o.__wbindgen_malloc),w=u,p=b(e,o.__wbindgen_malloc),y=u,S=b(t,o.__wbindgen_malloc),T=u,B=b(r,o.__wbindgen_malloc),M=u;o.xsm4_decrypt(s,l,w,p,y,S,T,B,M);var _=g()[s/4+0],i=g()[s/4+1],a=A(_,i).slice();return o.__wbindgen_free(_,i*1,1),console.log("xsm4_decrypt took",Date.now()-c,"ms"),a}finally{o.__wbindgen_add_to_stack_pointer(16)}}function wn(n){const e=b(n,o.__wbindgen_malloc),t=u;o.init_rng_pool(e,t)}function bn(n){const e=Date.now();try{const _=o.__wbindgen_add_to_stack_pointer(-16),i=b(n,o.__wbindgen_malloc),a=u;o.sm3(_,i,a);var t=g()[_/4+0],r=g()[_/4+1],c=A(t,r).slice();return o.__wbindgen_free(t,r*1,1),console.log("sm3 took",Date.now()-e,"ms"),c}finally{o.__wbindgen_add_to_stack_pointer(16)}}function mn(n,e,t){const r=Date.now();try{const a=o.__wbindgen_add_to_stack_pointer(-16),s=x(n,o.__wbindgen_malloc,o.__wbindgen_realloc),l=u,w=b(e,o.__wbindgen_malloc),p=u;o.sm2_encrypt(a,s,l,w,p,d(t));var c=g()[a/4+0],_=g()[a/4+1],i=A(c,_).slice();return o.__wbindgen_free(c,_*1,1),console.log("sm2_encrypt took",Date.now()-r,"ms"),i}finally{o.__wbindgen_add_to_stack_pointer(16)}}function pn(n,e,t){const r=Date.now();let c,_;try{const s=o.__wbindgen_add_to_stack_pointer(-16),l=x(n,o.__wbindgen_malloc,o.__wbindgen_realloc),w=u,p=b(e,o.__wbindgen_malloc),y=u;o.sm2_encrypt_hex(s,l,w,p,y,d(t));var i=g()[s/4+0],a=g()[s/4+1];return c=i,_=a,console.log("sm2_encrypt_hex took",Date.now()-r,"ms"),k(i,a)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(c,_,1)}}function yn(n,e,t){const r=Date.now();try{const a=o.__wbindgen_add_to_stack_pointer(-16),s=x(n,o.__wbindgen_malloc,o.__wbindgen_realloc),l=u,w=b(e,o.__wbindgen_malloc),p=u;o.sm2_decrypt(a,s,l,w,p,d(t));var c=g()[a/4+0],_=g()[a/4+1],i=A(c,_).slice();return o.__wbindgen_free(c,_*1,1),console.log("sm2_decrypt took",Date.now()-r,"ms"),i}finally{o.__wbindgen_add_to_stack_pointer(16)}}function hn(n,e,t){const r=Date.now();let c,_;try{const s=o.__wbindgen_add_to_stack_pointer(-16),l=x(n,o.__wbindgen_malloc,o.__wbindgen_realloc),w=u,p=b(e,o.__wbindgen_malloc),y=u;o.sm2_decrypt_hex(s,l,w,p,y,d(t));var i=g()[s/4+0],a=g()[s/4+1];return c=i,_=a,console.log("sm2_decrypt_hex took",Date.now()-r,"ms"),k(i,a)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(c,_,1)}}function vn(n,e,t){const r=Date.now();let c,_;try{const s=o.__wbindgen_add_to_stack_pointer(-16),l=x(n,o.__wbindgen_malloc,o.__wbindgen_realloc),w=u,p=b(e,o.__wbindgen_malloc),y=u;o.sm2_sign(s,l,w,p,y,d(t));var i=g()[s/4+0],a=g()[s/4+1];return c=i,_=a,console.log("sm2_sign took",Date.now()-r,"ms"),k(i,a)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(c,_,1)}}function xn(n,e,t,r){const c=Date.now(),_=x(n,o.__wbindgen_malloc,o.__wbindgen_realloc),i=u,a=b(e,o.__wbindgen_malloc),s=u,l=x(t,o.__wbindgen_malloc,o.__wbindgen_realloc),w=u,p=o.sm2_verify(_,i,a,s,l,w,d(r));return console.log("sm2_verify took",Date.now()-c,"ms"),p!==0}function kn(){const n=Date.now(),e=o.sm2_generate_keypair();return console.log("sm2_generate_keypair took",Date.now()-n,"ms"),C(e)}function Dn(n){const e=Date.now();let t,r;try{const w=o.__wbindgen_add_to_stack_pointer(-16),p=x(n,o.__wbindgen_malloc,o.__wbindgen_realloc),y=u;o.compress_public_key_hex(w,p,y);var c=g()[w/4+0],_=g()[w/4+1],i=g()[w/4+2],a=g()[w/4+3],s=c,l=_;if(a)throw s=0,l=0,C(i);return t=s,r=l,console.log("compress_public_key_hex took",Date.now()-e,"ms"),k(s,l)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(t,r,1)}}function An(n,e){const t=Date.now();try{const i=o.__wbindgen_add_to_stack_pointer(-16),a=b(n,o.__wbindgen_malloc),s=u,l=b(e,o.__wbindgen_malloc),w=u;o.sm3_hmac(i,a,s,l,w);var r=g()[i/4+0],c=g()[i/4+1],_=A(r,c).slice();return o.__wbindgen_free(r,c*1,1),console.log("sm3_hmac took",Date.now()-t,"ms"),_}finally{o.__wbindgen_add_to_stack_pointer(16)}}function On(n,e,t){const r=Date.now();try{const a=o.__wbindgen_add_to_stack_pointer(-16),s=b(n,o.__wbindgen_malloc),l=u,w=b(e,o.__wbindgen_malloc),p=u;o.sm4_encrypt(a,s,l,w,p,d(t));var c=g()[a/4+0],_=g()[a/4+1],i=A(c,_).slice();return o.__wbindgen_free(c,_*1,1),console.log("sm4_encrypt took",Date.now()-r,"ms"),i}finally{o.__wbindgen_add_to_stack_pointer(16)}}function En(n,e,t,r){const c=Date.now();try{const s=o.__wbindgen_add_to_stack_pointer(-16),l=b(n,o.__wbindgen_malloc),w=u,p=b(e,o.__wbindgen_malloc),y=u,S=b(t,o.__wbindgen_malloc),T=u,B=b(r,o.__wbindgen_malloc),M=u;o.sm4_encrypt_gcm(s,l,w,p,y,S,T,B,M);var _=g()[s/4+0],i=g()[s/4+1],a=A(_,i).slice();return o.__wbindgen_free(_,i*1,1),console.log("sm4_encrypt_gcm took",Date.now()-c,"ms"),a}finally{o.__wbindgen_add_to_stack_pointer(16)}}function jn(n,e,t,r){const c=Date.now();try{const s=o.__wbindgen_add_to_stack_pointer(-16),l=b(n,o.__wbindgen_malloc),w=u,p=b(e,o.__wbindgen_malloc),y=u,S=b(t,o.__wbindgen_malloc),T=u,B=b(r,o.__wbindgen_malloc),M=u;o.sm4_decrypt_gcm(s,l,w,p,y,S,T,B,M);var _=g()[s/4+0],i=g()[s/4+1],a=A(_,i).slice();return o.__wbindgen_free(_,i*1,1),console.log("sm4_decrypt_gcm took",Date.now()-c,"ms"),a}finally{o.__wbindgen_add_to_stack_pointer(16)}}function Sn(n,e,t){const r=Date.now();let c,_;try{const s=o.__wbindgen_add_to_stack_pointer(-16),l=b(n,o.__wbindgen_malloc),w=u,p=b(e,o.__wbindgen_malloc),y=u;o.sm4_encrypt_hex(s,l,w,p,y,d(t));var i=g()[s/4+0],a=g()[s/4+1];return c=i,_=a,console.log("sm4_encrypt_hex took",Date.now()-r,"ms"),k(i,a)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(c,_,1)}}function Tn(n,e,t){const r=Date.now();try{const a=o.__wbindgen_add_to_stack_pointer(-16),s=b(n,o.__wbindgen_malloc),l=u,w=b(e,o.__wbindgen_malloc),p=u;o.sm4_decrypt(a,s,l,w,p,d(t));var c=g()[a/4+0],_=g()[a/4+1],i=A(c,_).slice();return o.__wbindgen_free(c,_*1,1),console.log("sm4_decrypt took",Date.now()-r,"ms"),i}finally{o.__wbindgen_add_to_stack_pointer(16)}}function m(n,e){try{return n.apply(this,e)}catch(t){let r=function(){try{return t instanceof Error?`${t.message}

Stack:
${t.stack}`:t.toString()}catch{return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",r),t}}function v(n,e){try{return n.apply(this,e)}catch(t){o.__wbindgen_exn_store(d(t))}}async function Bn(n,e){const t=await WXWebAssembly.instantiate(n,e);return t instanceof WXWebAssembly.Instance?{instance:t,module:n}:t}function Mn(){const n={};return n.wbg={},n.wbg.__wbindgen_error_new=function(e,t){const r=new Error(k(e,t));return d(r)},n.wbg.__wbindgen_is_undefined=function(e){const t=f(e)===void 0;return h(t),t},n.wbg.__wbindgen_in=function(e,t){const r=f(e)in f(t);return h(r),r},n.wbg.__wbindgen_boolean_get=function(e){const t=f(e),r=typeof t=="boolean"?t?1:0:2;return $(r),r},n.wbg.__wbindgen_string_new=function(e,t){const r=k(e,t);return d(r)},n.wbg.__wbindgen_string_get=function(e,t){const r=f(t),c=typeof r=="string"?r:void 0;var _=L(c)?0:x(c,o.__wbindgen_malloc,o.__wbindgen_realloc),i=u;g()[e/4+1]=i,g()[e/4+0]=_},n.wbg.__wbindgen_is_object=function(e){const t=f(e),r=typeof t=="object"&&t!==null;return h(r),r},n.wbg.__wbg_error_f851667af71bcfc6=function(){return m(function(e,t){let r,c;try{r=e,c=t,console.error(k(e,t))}finally{o.__wbindgen_free(r,c,1)}},arguments)},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return m(function(){const e=new Error;return d(e)},arguments)},n.wbg.__wbg_stack_658279fe44541cf6=function(){return m(function(e,t){const r=f(t).stack,c=x(r,o.__wbindgen_malloc,o.__wbindgen_realloc),_=u;g()[e/4+1]=_,g()[e/4+0]=c},arguments)},n.wbg.__wbindgen_as_number=function(e){return+f(e)},n.wbg.__wbindgen_number_get=function(e,t){const r=f(t),c=typeof r=="number"?r:void 0;L(c)||$(c),un()[e/8+1]=L(c)?0:c,g()[e/4+0]=!L(c)},n.wbg.__wbindgen_jsval_loose_eq=function(e,t){const r=f(e)==f(t);return h(r),r},n.wbg.__wbindgen_object_clone_ref=function(e){const t=f(e);return d(t)},n.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(){return m(function(e,t){const r=f(e)[f(t)];return d(r)},arguments)},n.wbg.__wbg_set_f975102236d3c502=function(){return m(function(e,t,r){f(e)[C(t)]=C(r)},arguments)},n.wbg.__wbg_log_5bb5f88f245d7762=function(){return m(function(e){console.log(f(e))},arguments)},n.wbg.__wbindgen_is_string=function(e){const t=typeof f(e)=="string";return h(t),t},n.wbg.__wbg_crypto_1d1f22824a6a080c=function(){return m(function(e){return d({getRandomValues:function(r){console.warn("[Warning] sm-crypto-wasm: It is dangerous to use non-cryptographically secure random number generator in production. Please populate RNG seed first from a secure source using 'smCrypto.initRNGPool()' API.");for(let c=0,_=r.length;c<_;c++)r[c]=Math.floor(Math.random()*256);return r}})},arguments)},n.wbg.__wbg_msCrypto_eb05e62b530a1508=function(){return m(function(e){const t=f(e).msCrypto;return d(t)},arguments)},n.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return v(function(e,t){f(e).getRandomValues(f(t))},arguments)},n.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return v(function(e,t){f(e).randomFillSync(C(t))},arguments)},n.wbg.__wbg_require_cca90b1a94a0255b=function(){return v(function(){const e=module.require;return d(e)},arguments)},n.wbg.__wbg_process_4a72847cc503995b=function(){return m(function(e){const t=f(e).process;return d(t)},arguments)},n.wbg.__wbg_versions_f686565e586dd935=function(){return m(function(e){const t=f(e).versions;return d(t)},arguments)},n.wbg.__wbg_node_104a2ff8d6ea03a2=function(){return m(function(e){const t=f(e).node;return d(t)},arguments)},n.wbg.__wbg_get_bd8e338fbd5f5cc8=function(){return m(function(e,t){const r=f(e)[t>>>0];return d(r)},arguments)},n.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(){return m(function(e){const t=Array.isArray(f(e));return h(t),t},arguments)},n.wbg.__wbg_length_cd7af8117672b8b8=function(){return m(function(e){const t=f(e).length;return $(t),t},arguments)},n.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(){return m(function(e){let t;try{t=f(e)instanceof ArrayBuffer}catch{t=!1}const r=t;return h(r),r},arguments)},n.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(){return m(function(e,t){const r=new Function(k(e,t));return d(r)},arguments)},n.wbg.__wbg_call_27c0f87801dedf93=function(){return v(function(e,t){const r=f(e).call(f(t));return d(r)},arguments)},n.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return v(function(e,t,r){const c=f(e).call(f(t),f(r));return d(c)},arguments)},n.wbg.__wbg_next_196c84450b364254=function(){return v(function(e){const t=f(e).next();return d(t)},arguments)},n.wbg.__wbg_next_40fc327bfc8770e6=function(){return m(function(e){const t=f(e).next;return d(t)},arguments)},n.wbg.__wbg_done_298b57d23c0fc80c=function(){return m(function(e){const t=f(e).done;return h(t),t},arguments)},n.wbg.__wbg_value_d93c65011f51a456=function(){return m(function(e){const t=f(e).value;return d(t)},arguments)},n.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(){return m(function(e){const t=Number.isSafeInteger(f(e));return h(t),t},arguments)},n.wbg.__wbg_new_72fb9a18b5ae2624=function(){return m(function(){const e=new Object;return d(e)},arguments)},n.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return m(function(){return d(Symbol.iterator)},arguments)},n.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return v(function(){const e=globalThis.globalThis;return d(e)},arguments)},n.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return v(function(){const e=self.self;return d(e)},arguments)},n.wbg.__wbg_window_c6fb939a7f436783=function(){return v(function(){const e=window.window;return d(e)},arguments)},n.wbg.__wbg_global_207b558942527489=function(){return v(function(){const e=R.global;return d(e)},arguments)},n.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(){return m(function(e){let t;try{t=f(e)instanceof Uint8Array}catch{t=!1}const r=t;return h(r),r},arguments)},n.wbg.__wbg_new_63b92bc8671ed464=function(){return m(function(e){const t=new Uint8Array(f(e));return d(t)},arguments)},n.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(){return m(function(e){const t=new Uint8Array(e>>>0);return d(t)},arguments)},n.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(){return m(function(e,t,r){const c=new Uint8Array(f(e),t>>>0,r>>>0);return d(c)},arguments)},n.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(){return m(function(e,t,r){const c=f(e).subarray(t>>>0,r>>>0);return d(c)},arguments)},n.wbg.__wbg_length_c20a40f15020d68a=function(){return m(function(e){const t=f(e).length;return $(t),t},arguments)},n.wbg.__wbg_set_a47bac70306a19a7=function(){return m(function(e,t,r){f(e).set(f(t),r>>>0)},arguments)},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(){return m(function(e){const t=f(e).buffer;return d(t)},arguments)},n.wbg.__wbindgen_is_function=function(e){const t=typeof f(e)=="function";return h(t),t},n.wbg.__wbg_get_e3c254076557e348=function(){return v(function(e,t){const r=Reflect.get(f(e),f(t));return d(r)},arguments)},n.wbg.__wbindgen_debug_string=function(e,t){const r=J(f(t)),c=x(r,o.__wbindgen_malloc,o.__wbindgen_realloc),_=u;g()[e/4+1]=_,g()[e/4+0]=c},n.wbg.__wbindgen_object_drop_ref=function(e){C(e)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(k(e,t))},n.wbg.__wbindgen_rethrow=function(e){throw C(e)},n.wbg.__wbindgen_memory=function(){const e=o.memory;return d(e)},n}function Cn(n,e){return o=n.exports,nn.__wbindgen_wasm_module=e,o.__wbindgen_start(),o}async function nn(n){if(o!==void 0)return o;const e=Mn(),{instance:t,module:r}=await Bn(await n,e);return Cn(t,r)}function E(n){const e=[];for(let t=0;t<n.length;t+=2)e.push(parseInt(n.substr(t,2),16));return new Uint8Array(e)}let q=null;async function Un(){if(!q)try{const n=await nn("sm-crypto/crypto.wasm.br");console.log("init sm-crypto-wasm direct success",n),q=n}catch(n){console.log("init sm-crypto-wasm direct failed",n),q=null}}const Fn={initSMCrypto:Un,sm2:{generateKeyPairHex:kn,compressPublicKeyHex:Dn,encrypt(n,e,t){return t=Object.assign({cipherMode:1,asn1:!1,output:"array"},t),n=typeof n=="string"?E(n):n,t.output==="string"?pn(e,n,{asn1:t.asn1,c1c2c3:t.cipherMode===0}):mn(e,n,{asn1:t.asn1,c1c2c3:t.cipherMode===0})},decrypt(n,e,t){return t=Object.assign({cipherMode:1,asn1:!1,output:"array"},t),n=typeof n=="string"?E(n):n,t.output==="string"?hn(e,n,{asn1:t.asn1,c1c2c3:t.cipherMode===0}):yn(e,n,{asn1:t.asn1,c1c2c3:t.cipherMode===0})},doSignature(n,e,t){return n=typeof n=="string"?E(n):n,t=Object.assign({hash:!0,der:!0},t),vn(e,n,t)},doVerifySignature(n,e,t,r){return n=typeof n=="string"?E(n):n,r=Object.assign({hash:!0,der:!0},r),xn(e,n,t,r)},initRNGPool:wn},sm3:bn,hmac:An,sm4:{encrypt(n,e,t){return t=Object.assign({mode:"cbc",padding:"pkcs7",output:"array"},t),t.iv=t.iv?typeof t.iv=="string"?E(t.iv):t.iv:void 0,e=typeof e=="string"?E(e):e,t.output==="string"?Sn(n,e,{mode:t.mode,padding:t.padding,iv:t.iv}):On(n,e,{mode:t.mode,padding:t.padding,iv:t.iv})},decrypt(n,e,t){return t=Object.assign({mode:"cbc",padding:"pkcs7",output:"array"},t),t.iv=t.iv?typeof t.iv=="string"?E(t.iv):t.iv:void 0,e=typeof e=="string"?E(e):e,Tn(n,e,{mode:t.mode,padding:t.padding,iv:t.iv})},gcm:{encrypt:En,decrypt:jn,xsm4_encrypt:ln,xsm4_decrypt:gn}}};module.exports=Fn;
