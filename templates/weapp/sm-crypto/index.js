"use strict";function D(e,n,t){return n<=e&&e<=t}function Y(e,n){return e.indexOf(n)!==-1}function F(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function Z(e){for(var n=String(e),t=n.length,r=0,o=[];r<t;){var i=n.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===t-1)o.push(65533);else{var c=n.charCodeAt(r+1);if(56320<=c&&c<=57343){var a=i&1023,s=c&1023;o.push(65536+(a<<10)+s),r+=1}else o.push(65533)}r+=1}return o}function ee(e){for(var n="",t=0;t<e.length;++t){var r=e[t];r<=65535?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return n}function ne(e){return 0<=e&&e<=127}var te=ne,S=-1;function H(e){this.tokens=[].slice.call(e),this.tokens.reverse()}H.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():S},prepend:function(e){if(Array.isArray(e))for(var n=e;n.length;)this.tokens.push(n.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var n=e;n.length;)this.tokens.unshift(n.shift());else this.tokens.unshift(e)}};var M=-1;function L(e,n){if(e)throw TypeError("Decoder error");return n||65533}function V(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(G,e)?G[e]:null}var re=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"}],G={};re.forEach(function(e){e.encodings.forEach(function(n){n.labels.forEach(function(t){G[t]=n})})});var z={},X={},J="utf-8";function h(e,n){if(!(this instanceof h))throw TypeError("Called as a function. Did you forget 'new'?");e=e!==void 0?String(e):J,n=F(n),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var t=V(e);if(t===null||t.name==="replacement")throw RangeError("Unknown encoding: "+e);if(!X[t.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var r=this;return r._encoding=t,n.fatal&&(r._error_mode="fatal"),n.ignoreBOM&&(r._ignoreBOM=!0),Object.defineProperty||(this.encoding=r._encoding.name.toLowerCase(),this.fatal=r._error_mode==="fatal",this.ignoreBOM=r._ignoreBOM),r}Object.defineProperty&&(Object.defineProperty(h.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(h.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(h.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}}));h.prototype.decode=function(n,t){var r;typeof n=="object"&&n instanceof ArrayBuffer?r=new Uint8Array(n):typeof n=="object"&&"buffer"in n&&n.buffer instanceof ArrayBuffer?r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength):r=new Uint8Array(0),t=F(t),this._do_not_flush||(this._decoder=X[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=!!t.stream;for(var o=new H(r),i=[],c;;){var a=o.read();if(a===S||(c=this._decoder.handler(o,a),c===M))break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}if(!this._do_not_flush){do{if(c=this._decoder.handler(o,o.read()),c===M)break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}while(!o.endOfStream());this._decoder=null}function s(l){return Y(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(l.length>0&&l[0]===65279?(this._BOMseen=!0,l.shift()):l.length>0&&(this._BOMseen=!0)),ee(l)}return s.call(this,i)};function j(e,n){if(!(this instanceof j))throw TypeError("Called as a function. Did you forget 'new'?");n=F(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=n.fatal?"fatal":"replacement";var t=this;if(n.NONSTANDARD_allowLegacyEncoding){e=e!==void 0?String(e):J;var r=V(e);if(r===null||r.name==="replacement")throw RangeError("Unknown encoding: "+e);if(!z[r.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");t._encoding=r}else t._encoding=V("utf-8");return Object.defineProperty||(this.encoding=t._encoding.name.toLowerCase()),t}Object.defineProperty&&Object.defineProperty(j.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}});j.prototype.encode=function(n,t){n=n===void 0?"":String(n),t=F(t),this._do_not_flush||(this._encoder=z[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=!!t.stream;for(var r=new H(Z(n)),o=[],i;;){var c=r.read();if(c===S||(i=this._encoder.handler(r,c),i===M))break;Array.isArray(i)?o.push.apply(o,i):o.push(i)}if(!this._do_not_flush){for(;i=this._encoder.handler(r,r.read()),i!==M;)Array.isArray(i)?o.push.apply(o,i):o.push(i);this._encoder=null}return new Uint8Array(o)};function oe(e){var n=e.fatal,t=0,r=0,o=0,i=128,c=191;this.handler=function(a,s){if(s===S&&o!==0)return o=0,L(n);if(s===S)return M;if(o===0){if(D(s,0,127))return s;if(D(s,194,223))o=1,t=s&31;else if(D(s,224,239))s===224&&(i=160),s===237&&(c=159),o=2,t=s&15;else if(D(s,240,244))s===240&&(i=144),s===244&&(c=143),o=3,t=s&7;else return L(n);return null}if(!D(s,i,c))return t=o=r=0,i=128,c=191,a.prepend(s),L(n);if(i=128,c=191,t=t<<6|s&63,r+=1,r!==o)return null;var l=t;return t=o=r=0,l}}function _e(e){e.fatal,this.handler=function(n,t){if(t===S)return M;if(te(t))return t;var r,o;D(t,128,2047)?(r=1,o=192):D(t,2048,65535)?(r=2,o=224):D(t,65536,1114111)&&(r=3,o=240);for(var i=[(t>>6*r)+o];r>0;){var c=t>>6*(r-1);i.push(128|c&63),r-=1}return i}}z["UTF-8"]=function(e){return new _e(e)};X["UTF-8"]=function(e){return new oe(e)};var B=B||globalThis||{};B.TextEncoder=typeof j>"u"?j:B.TextEncoder;B.TextDecoder=typeof h>"u"?h:B.TextDecoder;let _;const x=new Array(128).fill(void 0);x.push(void 0,null,!0,!1);function f(e){return x[e]}let u=0;function E(){return new Uint8Array(_.memory.buffer)}const U=typeof j<"u"?new j("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},ie=typeof U.encodeInto=="function"?function(e,n){return U.encodeInto(e,n)}:function(e,n){const t=U.encode(e);return n.set(t),{read:e.length,written:t.length}};function v(e,n,t){if(t===void 0){const a=U.encode(e),s=n(a.length,1)>>>0;return E().subarray(s,s+a.length).set(a),u=a.length,s}let r=e.length,o=n(r,1)>>>0;const i=E();let c=0;for(;c<r;c++){const a=e.charCodeAt(c);if(a>127)break;i[o+c]=a}if(c!==r){c!==0&&(e=e.slice(c)),o=t(o,r,r=c+e.length*3,1)>>>0;const a=E().subarray(o+c,o+r),s=ie(e,a);c+=s.written,o=t(o,r,c,1)>>>0}return u=c,o}function W(e){return e==null}function g(){return new Int32Array(_.memory.buffer)}const K=typeof h<"u"?new h("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof h<"u"&&K.decode();function k(e,n){return e=e>>>0,K.decode(E().subarray(e,e+n))}let C=x.length;function d(e){C===x.length&&x.push(x.length+1);const n=C;return C=x[n],x[n]=e,n}function ce(e){e<132||(x[e]=C,C=e)}function T(e){const n=f(e);return ce(e),n}function se(){return new Float64Array(_.memory.buffer)}function q(e){const n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){const o=e.description;return o==null?"Symbol":`Symbol(${o})`}if(n=="function"){const o=e.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(e)){const o=e.length;let i="[";o>0&&(i+=q(e[0]));for(let c=1;c<o;c++)i+=", "+q(e[c]);return i+="]",i}const t=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(t.length>1)r=t[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function b(e,n){const t=n(e.length*1,1)>>>0;return E().set(e,t/1),u=e.length,t}function ae(e){const n=b(e,_.__wbindgen_malloc),t=u;_.init_rng_pool(n,t)}function O(e,n){return e=e>>>0,E().subarray(e/1,e/1+n)}function fe(e){const n=Date.now();try{const i=_.__wbindgen_add_to_stack_pointer(-16),c=b(e,_.__wbindgen_malloc),a=u;_.sm3(i,c,a);var t=g()[i/4+0],r=g()[i/4+1],o=O(t,r).slice();return _.__wbindgen_free(t,r*1,1),console.log("sm3 took",Date.now()-n,"ms"),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}function de(e,n,t){const r=Date.now();try{const a=_.__wbindgen_add_to_stack_pointer(-16),s=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),l=u,w=b(n,_.__wbindgen_malloc),p=u;_.sm2_encrypt(a,s,l,w,p,d(t));var o=g()[a/4+0],i=g()[a/4+1],c=O(o,i).slice();return _.__wbindgen_free(o,i*1,1),console.log("sm2_encrypt took",Date.now()-r,"ms"),c}finally{_.__wbindgen_add_to_stack_pointer(16)}}function ue(e,n,t){const r=Date.now();let o,i;try{const s=_.__wbindgen_add_to_stack_pointer(-16),l=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),w=u,p=b(n,_.__wbindgen_malloc),m=u;_.sm2_encrypt_hex(s,l,w,p,m,d(t));var c=g()[s/4+0],a=g()[s/4+1];return o=c,i=a,console.log("sm2_encrypt_hex took",Date.now()-r,"ms"),k(c,a)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(o,i,1)}}function le(e,n,t){const r=Date.now();try{const a=_.__wbindgen_add_to_stack_pointer(-16),s=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),l=u,w=b(n,_.__wbindgen_malloc),p=u;_.sm2_decrypt(a,s,l,w,p,d(t));var o=g()[a/4+0],i=g()[a/4+1],c=O(o,i).slice();return _.__wbindgen_free(o,i*1,1),console.log("sm2_decrypt took",Date.now()-r,"ms"),c}finally{_.__wbindgen_add_to_stack_pointer(16)}}function ge(e,n,t){const r=Date.now();let o,i;try{const s=_.__wbindgen_add_to_stack_pointer(-16),l=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),w=u,p=b(n,_.__wbindgen_malloc),m=u;_.sm2_decrypt_hex(s,l,w,p,m,d(t));var c=g()[s/4+0],a=g()[s/4+1];return o=c,i=a,console.log("sm2_decrypt_hex took",Date.now()-r,"ms"),k(c,a)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(o,i,1)}}function we(e,n,t){const r=Date.now();let o,i;try{const s=_.__wbindgen_add_to_stack_pointer(-16),l=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),w=u,p=b(n,_.__wbindgen_malloc),m=u;_.sm2_sign(s,l,w,p,m,d(t));var c=g()[s/4+0],a=g()[s/4+1];return o=c,i=a,console.log("sm2_sign took",Date.now()-r,"ms"),k(c,a)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(o,i,1)}}function be(e,n,t,r){const o=Date.now(),i=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),c=u,a=b(n,_.__wbindgen_malloc),s=u,l=v(t,_.__wbindgen_malloc,_.__wbindgen_realloc),w=u,p=_.sm2_verify(i,c,a,s,l,w,d(r));return console.log("sm2_verify took",Date.now()-o,"ms"),p!==0}function pe(){const e=Date.now(),n=_.sm2_generate_keypair();return console.log("sm2_generate_keypair took",Date.now()-e,"ms"),T(n)}function me(e){const n=Date.now();let t,r;try{const w=_.__wbindgen_add_to_stack_pointer(-16),p=v(e,_.__wbindgen_malloc,_.__wbindgen_realloc),m=u;_.compress_public_key_hex(w,p,m);var o=g()[w/4+0],i=g()[w/4+1],c=g()[w/4+2],a=g()[w/4+3],s=o,l=i;if(a)throw s=0,l=0,T(c);return t=s,r=l,console.log("compress_public_key_hex took",Date.now()-n,"ms"),k(s,l)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(t,r,1)}}function ye(e,n){const t=Date.now();try{const c=_.__wbindgen_add_to_stack_pointer(-16),a=b(e,_.__wbindgen_malloc),s=u,l=b(n,_.__wbindgen_malloc),w=u;_.sm3_hmac(c,a,s,l,w);var r=g()[c/4+0],o=g()[c/4+1],i=O(r,o).slice();return _.__wbindgen_free(r,o*1,1),console.log("sm3_hmac took",Date.now()-t,"ms"),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}function he(e,n,t){const r=Date.now();try{const a=_.__wbindgen_add_to_stack_pointer(-16),s=b(e,_.__wbindgen_malloc),l=u,w=b(n,_.__wbindgen_malloc),p=u;_.sm4_encrypt(a,s,l,w,p,d(t));var o=g()[a/4+0],i=g()[a/4+1],c=O(o,i).slice();return _.__wbindgen_free(o,i*1,1),console.log("sm4_encrypt took",Date.now()-r,"ms"),c}finally{_.__wbindgen_add_to_stack_pointer(16)}}function ve(e,n,t,r){const o=Date.now();try{const s=_.__wbindgen_add_to_stack_pointer(-16),l=b(e,_.__wbindgen_malloc),w=u,p=b(n,_.__wbindgen_malloc),m=u,P=b(t,_.__wbindgen_malloc),I=u,N=b(r,_.__wbindgen_malloc),R=u;_.sm4_encrypt_gcm(s,l,w,p,m,P,I,N,R);var i=g()[s/4+0],c=g()[s/4+1],a=O(i,c).slice();return _.__wbindgen_free(i,c*1,1),console.log("sm4_encrypt_gcm took",Date.now()-o,"ms"),a}finally{_.__wbindgen_add_to_stack_pointer(16)}}function xe(e,n,t,r){const o=Date.now();try{const s=_.__wbindgen_add_to_stack_pointer(-16),l=b(e,_.__wbindgen_malloc),w=u,p=b(n,_.__wbindgen_malloc),m=u,P=b(t,_.__wbindgen_malloc),I=u,N=b(r,_.__wbindgen_malloc),R=u;_.sm4_decrypt_gcm(s,l,w,p,m,P,I,N,R);var i=g()[s/4+0],c=g()[s/4+1],a=O(i,c).slice();return _.__wbindgen_free(i,c*1,1),console.log("sm4_decrypt_gcm took",Date.now()-o,"ms"),a}finally{_.__wbindgen_add_to_stack_pointer(16)}}function ke(e,n,t){const r=Date.now();let o,i;try{const s=_.__wbindgen_add_to_stack_pointer(-16),l=b(e,_.__wbindgen_malloc),w=u,p=b(n,_.__wbindgen_malloc),m=u;_.sm4_encrypt_hex(s,l,w,p,m,d(t));var c=g()[s/4+0],a=g()[s/4+1];return o=c,i=a,console.log("sm4_encrypt_hex took",Date.now()-r,"ms"),k(c,a)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(o,i,1)}}function Ae(e,n,t){const r=Date.now();try{const a=_.__wbindgen_add_to_stack_pointer(-16),s=b(e,_.__wbindgen_malloc),l=u,w=b(n,_.__wbindgen_malloc),p=u;_.sm4_decrypt(a,s,l,w,p,d(t));var o=g()[a/4+0],i=g()[a/4+1],c=O(o,i).slice();return _.__wbindgen_free(o,i*1,1),console.log("sm4_decrypt took",Date.now()-r,"ms"),c}finally{_.__wbindgen_add_to_stack_pointer(16)}}function y(e,n){try{return e.apply(this,n)}catch(t){_.__wbindgen_exn_store(d(t))}}async function De(e,n){const t=await WXWebAssembly.instantiate(e,n);return t instanceof WXWebAssembly.Instance?{instance:t,module:e}:t}function Oe(){const e={};return e.wbg={},e.wbg.__wbindgen_is_undefined=function(n){return f(n)===void 0},e.wbg.__wbindgen_in=function(n,t){return f(n)in f(t)},e.wbg.__wbindgen_is_object=function(n){const t=f(n);return typeof t=="object"&&t!==null},e.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(n,t){const r=f(n)[f(t)];return d(r)},e.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(n){return Array.isArray(f(n))},e.wbg.__wbg_length_cd7af8117672b8b8=function(n){return f(n).length},e.wbg.__wbg_get_bd8e338fbd5f5cc8=function(n,t){const r=f(n)[t>>>0];return d(r)},e.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return d(Symbol.iterator)},e.wbg.__wbg_get_e3c254076557e348=function(){return y(function(n,t){const r=Reflect.get(f(n),f(t));return d(r)},arguments)},e.wbg.__wbg_next_40fc327bfc8770e6=function(n){const t=f(n).next;return d(t)},e.wbg.__wbg_next_196c84450b364254=function(){return y(function(n){const t=f(n).next();return d(t)},arguments)},e.wbg.__wbg_done_298b57d23c0fc80c=function(n){return f(n).done},e.wbg.__wbg_value_d93c65011f51a456=function(n){const t=f(n).value;return d(t)},e.wbg.__wbindgen_string_get=function(n,t){const r=f(t),o=typeof r=="string"?r:void 0;var i=W(o)?0:v(o,_.__wbindgen_malloc,_.__wbindgen_realloc),c=u;g()[n/4+1]=c,g()[n/4+0]=i},e.wbg.__wbindgen_boolean_get=function(n){const t=f(n);return typeof t=="boolean"?t?1:0:2},e.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(n){return Number.isSafeInteger(f(n))},e.wbg.__wbindgen_as_number=function(n){return+f(n)},e.wbg.__wbindgen_string_new=function(n,t){const r=k(n,t);return d(r)},e.wbg.__wbg_set_f975102236d3c502=function(n,t,r){f(n)[T(t)]=T(r)},e.wbg.__wbg_log_5bb5f88f245d7762=function(n){console.log(f(n))},e.wbg.__wbg_new_72fb9a18b5ae2624=function(){const n=new Object;return d(n)},e.wbg.__wbindgen_error_new=function(n,t){const r=new Error(k(n,t));return d(r)},e.wbg.__wbindgen_object_clone_ref=function(n){const t=f(n);return d(t)},e.wbg.__wbg_crypto_1d1f22824a6a080c=function(n){return d({getRandomValues:function(r){console.warn("[Warning] sm-crypto-wasm: It is dangerous to use non-cryptographically secure random number generator in production. Please populate RNG seed first from a secure source using 'smCrypto.initRNGPool()' API.");for(let o=0,i=r.length;o<i;o++)r[o]=Math.floor(Math.random()*256);return r}})},e.wbg.__wbg_process_4a72847cc503995b=function(n){const t=f(n).process;return d(t)},e.wbg.__wbg_versions_f686565e586dd935=function(n){const t=f(n).versions;return d(t)},e.wbg.__wbg_node_104a2ff8d6ea03a2=function(n){const t=f(n).node;return d(t)},e.wbg.__wbindgen_is_string=function(n){return typeof f(n)=="string"},e.wbg.__wbg_require_cca90b1a94a0255b=function(){return y(function(){const n=module.require;return d(n)},arguments)},e.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return y(function(n,t,r){const o=f(n).call(f(t),f(r));return d(o)},arguments)},e.wbg.__wbg_msCrypto_eb05e62b530a1508=function(n){const t=f(n).msCrypto;return d(t)},e.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(n){const t=new Uint8Array(n>>>0);return d(t)},e.wbg.__wbindgen_is_function=function(n){return typeof f(n)=="function"},e.wbg.__wbg_call_27c0f87801dedf93=function(){return y(function(n,t){const r=f(n).call(f(t));return d(r)},arguments)},e.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return y(function(){const n=self.self;return d(n)},arguments)},e.wbg.__wbg_window_c6fb939a7f436783=function(){return y(function(){const n=window.window;return d(n)},arguments)},e.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return y(function(){const n=globalThis.globalThis;return d(n)},arguments)},e.wbg.__wbg_global_207b558942527489=function(){return y(function(){const n=B.global;return d(n)},arguments)},e.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(n,t){const r=new Function(k(n,t));return d(r)},e.wbg.__wbindgen_memory=function(){const n=_.memory;return d(n)},e.wbg.__wbg_buffer_12d079cc21e14bdb=function(n){const t=f(n).buffer;return d(t)},e.wbg.__wbg_new_63b92bc8671ed464=function(n){const t=new Uint8Array(f(n));return d(t)},e.wbg.__wbg_set_a47bac70306a19a7=function(n,t,r){f(n).set(f(t),r>>>0)},e.wbg.__wbg_length_c20a40f15020d68a=function(n){return f(n).length},e.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(n,t,r){const o=new Uint8Array(f(n),t>>>0,r>>>0);return d(o)},e.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return y(function(n,t){f(n).randomFillSync(T(t))},arguments)},e.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(n,t,r){const o=f(n).subarray(t>>>0,r>>>0);return d(o)},e.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return y(function(n,t){f(n).getRandomValues(f(t))},arguments)},e.wbg.__wbindgen_object_drop_ref=function(n){T(n)},e.wbg.__wbindgen_jsval_loose_eq=function(n,t){return f(n)==f(t)},e.wbg.__wbindgen_number_get=function(n,t){const r=f(t),o=typeof r=="number"?r:void 0;se()[n/8+1]=W(o)?0:o,g()[n/4+0]=!W(o)},e.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(n){let t;try{t=f(n)instanceof Uint8Array}catch{t=!1}return t},e.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(n){let t;try{t=f(n)instanceof ArrayBuffer}catch{t=!1}return t},e.wbg.__wbindgen_debug_string=function(n,t){const r=q(f(t)),o=v(r,_.__wbindgen_malloc,_.__wbindgen_realloc),i=u;g()[n/4+1]=i,g()[n/4+0]=o},e.wbg.__wbindgen_throw=function(n,t){throw new Error(k(n,t))},e}function je(e,n){return _=e.exports,Q.__wbindgen_wasm_module=n,_.__wbindgen_start(),_}async function Q(e){if(_!==void 0)return _;const n=Oe(),{instance:t,module:r}=await De(await e,n);return je(t,r)}function A(e){const n=[];for(let t=0;t<e.length;t+=2)n.push(parseInt(e.substr(t,2),16));return new Uint8Array(n)}let $=null;async function Te(){if(!$)try{const e=await Q("sm-crypto/crypto.wasm.br");console.log("init sm-crypto-wasm direct success",e),$=e}catch(e){console.log("init sm-crypto-wasm direct failed",e),$=null}}const Ee={initSMCrypto:Te,sm2:{generateKeyPairHex:pe,compressPublicKeyHex:me,encrypt(e,n,t){return t=Object.assign({cipherMode:1,asn1:!1,output:"array"},t),e=typeof e=="string"?A(e):e,t.output==="string"?ue(n,e,{asn1:t.asn1,c1c2c3:t.cipherMode===0}):de(n,e,{asn1:t.asn1,c1c2c3:t.cipherMode===0})},decrypt(e,n,t){return t=Object.assign({cipherMode:1,asn1:!1,output:"array"},t),e=typeof e=="string"?A(e):e,t.output==="string"?ge(n,e,{asn1:t.asn1,c1c2c3:t.cipherMode===0}):le(n,e,{asn1:t.asn1,c1c2c3:t.cipherMode===0})},doSignature(e,n,t){return e=typeof e=="string"?A(e):e,t=Object.assign({hash:!0,der:!0},t),we(n,e,t)},doVerifySignature(e,n,t,r){return e=typeof e=="string"?A(e):e,r=Object.assign({hash:!0,der:!0},r),be(n,e,t,r)},initRNGPool:ae},sm3:fe,hmac:ye,sm4:{encrypt(e,n,t){return t=Object.assign({mode:"cbc",padding:"pkcs7",output:"array"},t),t.iv=t.iv?typeof t.iv=="string"?A(t.iv):t.iv:void 0,n=typeof n=="string"?A(n):n,t.output==="string"?ke(e,n,{mode:t.mode,padding:t.padding,iv:t.iv}):he(e,n,{mode:t.mode,padding:t.padding,iv:t.iv})},decrypt(e,n,t){return t=Object.assign({mode:"cbc",padding:"pkcs7",output:"array"},t),t.iv=t.iv?typeof t.iv=="string"?A(t.iv):t.iv:void 0,n=typeof n=="string"?A(n):n,Ae(e,n,{mode:t.mode,padding:t.padding,iv:t.iv})},gcm:{encrypt:ve,decrypt:xe}}};module.exports=Ee;
